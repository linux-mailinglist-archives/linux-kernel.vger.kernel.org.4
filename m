Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id 8BFC66A394F
	for <lists+linux-kernel@lfdr.de>; Mon, 27 Feb 2023 04:11:53 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S229630AbjB0DLv (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Sun, 26 Feb 2023 22:11:51 -0500
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:49228 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S229641AbjB0DLt (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Sun, 26 Feb 2023 22:11:49 -0500
Received: from fd01.gateway.ufhost.com (fd01.gateway.ufhost.com [61.152.239.71])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 1EF12D300
        for <linux-kernel@vger.kernel.org>; Sun, 26 Feb 2023 19:11:44 -0800 (PST)
Received: from EXMBX166.cuchost.com (unknown [175.102.18.54])
        (using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
        (Client CN "EXMBX166", Issuer "EXMBX166" (not verified))
        by fd01.gateway.ufhost.com (Postfix) with ESMTP id 3C0A524E398;
        Mon, 27 Feb 2023 11:11:43 +0800 (CST)
Received: from EXMBX061.cuchost.com (172.16.6.61) by EXMBX166.cuchost.com
 (172.16.6.76) with Microsoft SMTP Server (TLS) id 15.0.1497.42; Mon, 27 Feb
 2023 11:11:43 +0800
Received: from EXMBX066.cuchost.com (172.16.7.66) by EXMBX061.cuchost.com
 (172.16.6.61) with Microsoft SMTP Server (TLS) id 15.0.1497.42; Mon, 27 Feb
 2023 11:11:42 +0800
Received: from EXMBX066.cuchost.com ([fe80::5947:9245:907e:339f]) by
 EXMBX066.cuchost.com ([fe80::5947:9245:907e:339f%17]) with mapi id
 15.00.1497.044; Mon, 27 Feb 2023 11:11:42 +0800
From:   JeeHeng Sia <jeeheng.sia@starfivetech.com>
To:     Alexandre Ghiti <alex@ghiti.fr>,
        "paul.walmsley@sifive.com" <paul.walmsley@sifive.com>,
        "palmer@dabbelt.com" <palmer@dabbelt.com>,
        "aou@eecs.berkeley.edu" <aou@eecs.berkeley.edu>
CC:     "linux-riscv@lists.infradead.org" <linux-riscv@lists.infradead.org>,
        "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
        Leyfoon Tan <leyfoon.tan@starfivetech.com>,
        Mason Huo <mason.huo@starfivetech.com>
Subject: RE: [PATCH v4 4/4] RISC-V: Add arch functions to support
 hibernation/suspend-to-disk
Thread-Topic: [PATCH v4 4/4] RISC-V: Add arch functions to support
 hibernation/suspend-to-disk
Thread-Index: AQHZRZ0zqkG7/pRhhEiAX6gFjug0Aa7dheoAgASUe8A=
Date:   Mon, 27 Feb 2023 03:11:42 +0000
Message-ID: <74bf1f43091345fcb59119d4d53e20bb@EXMBX066.cuchost.com>
References: <20230221023523.1498500-1-jeeheng.sia@starfivetech.com>
 <20230221023523.1498500-5-jeeheng.sia@starfivetech.com>
 <4119a2dd-e598-ec22-0872-e352898fa660@ghiti.fr>
In-Reply-To: <4119a2dd-e598-ec22-0872-e352898fa660@ghiti.fr>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-ms-exchange-transport-fromentityheader: Hosted
x-originating-ip: [202.188.176.82]
x-yovoleruleagent: yovoleflag
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_MSPIKE_H2,
        SPF_HELO_PASS,SPF_PASS autolearn=ham autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogQWxleGFuZHJlIEdoaXRp
IDxhbGV4QGdoaXRpLmZyPg0KPiBTZW50OiBGcmlkYXksIDI0IEZlYnJ1YXJ5LCAyMDIzIDg6Mjkg
UE0NCj4gVG86IEplZUhlbmcgU2lhIDxqZWVoZW5nLnNpYUBzdGFyZml2ZXRlY2guY29tPjsgcGF1
bC53YWxtc2xleUBzaWZpdmUuY29tOyBwYWxtZXJAZGFiYmVsdC5jb207IGFvdUBlZWNzLmJlcmtl
bGV5LmVkdQ0KPiBDYzogbGludXgtcmlzY3ZAbGlzdHMuaW5mcmFkZWFkLm9yZzsgbGludXgta2Vy
bmVsQHZnZXIua2VybmVsLm9yZzsgTGV5Zm9vbiBUYW4gPGxleWZvb24udGFuQHN0YXJmaXZldGVj
aC5jb20+OyBNYXNvbiBIdW8NCj4gPG1hc29uLmh1b0BzdGFyZml2ZXRlY2guY29tPg0KPiBTdWJq
ZWN0OiBSZTogW1BBVENIIHY0IDQvNF0gUklTQy1WOiBBZGQgYXJjaCBmdW5jdGlvbnMgdG8gc3Vw
cG9ydCBoaWJlcm5hdGlvbi9zdXNwZW5kLXRvLWRpc2sNCj4gDQo+IE9uIDIvMjEvMjMgMDM6MzUs
IFNpYSBKZWUgSGVuZyB3cm90ZToNCj4gPiBMb3cgbGV2ZWwgQXJjaCBmdW5jdGlvbnMgd2VyZSBj
cmVhdGVkIHRvIHN1cHBvcnQgaGliZXJuYXRpb24uDQo+ID4gc3dzdXNwX2FyY2hfc3VzcGVuZCgp
IHJlbGllcyBjb2RlIGZyb20gX19jcHVfc3VzcGVuZF9lbnRlcigpIHRvIHdyaXRlDQo+ID4gY3B1
IHN0YXRlIG9udG8gdGhlIHN0YWNrLCB0aGVuIGNhbGxpbmcgc3dzdXNwX3NhdmUoKSB0byBzYXZl
IHRoZSBtZW1vcnkNCj4gPiBpbWFnZS4NCj4gPg0KPiA+IEFyY2ggc3BlY2lmaWMgaGliZXJuYXRp
b24gaGVhZGVyIGlzIGltcGxlbWVudGVkIGFuZCBpcyB1dGlsaXplZCBieSB0aGUNCj4gPiBhcmNo
X2hpYmVybmF0aW9uX2hlYWRlcl9yZXN0b3JlKCkgYW5kIGFyY2hfaGliZXJuYXRpb25faGVhZGVy
X3NhdmUoKQ0KPiA+IGZ1bmN0aW9ucy4gVGhlIGFyY2ggc3BlY2lmaWMgaGliZXJuYXRpb24gaGVh
ZGVyIGNvbnNpc3RzIG9mIHNhdHAsIGhhcnRpZCwNCj4gPiBhbmQgdGhlIGNwdV9yZXN1bWUgYWRk
cmVzcy4gVGhlIGtlcm5lbCBidWlsdCB2ZXJzaW9uIGlzIGFsc28gbmVlZCB0byBiZQ0KPiA+IHNh
dmVkIGludG8gdGhlIGhpYmVybmF0aW9uIGltYWdlIGhlYWRlciB0byBtYWtpbmcgc3VyZSBvbmx5
IHRoZSBzYW1lDQo+ID4ga2VybmVsIGlzIHJlc3RvcmUgd2hlbiByZXN1bWUuDQo+ID4NCj4gPiBz
d3N1c3BfYXJjaF9yZXN1bWUoKSBjcmVhdGVzIGEgdGVtcG9yYXJ5IHBhZ2UgdGFibGUgdGhhdCBj
b3ZlcmluZyBvbmx5DQo+ID4gdGhlIGxpbmVhciBtYXAuIEl0IGNvcGllcyB0aGUgcmVzdG9yZSBj
b2RlIHRvIGEgJ3NhZmUnIHBhZ2UsIHRoZW4gc3RhcnQNCj4gPiB0byByZXN0b3JlIHRoZSBtZW1v
cnkgaW1hZ2UuIE9uY2UgY29tcGxldGVkLCBpdCByZXN0b3JlcyB0aGUgb3JpZ2luYWwNCj4gPiBr
ZXJuZWwncyBwYWdlIHRhYmxlLiBJdCB0aGVuIGNhbGxzIGludG8gX19oaWJlcm5hdGVfY3B1X3Jl
c3VtZSgpDQo+ID4gdG8gcmVzdG9yZSB0aGUgQ1BVIGNvbnRleHQuIEZpbmFsbHksIGl0IGZvbGxv
d3MgdGhlIG5vcm1hbCBoaWJlcm5hdGlvbg0KPiA+IHBhdGggYmFjayB0byB0aGUgaGliZXJuYXRp
b24gY29yZS4NCj4gPg0KPiA+IFRvIGVuYWJsZSBoaWJlcm5hdGlvbi9zdXNwZW5kIHRvIGRpc2sg
aW50byBSSVNDViwgdGhlIGJlbG93IGNvbmZpZw0KPiA+IG5lZWQgdG8gYmUgZW5hYmxlZDoNCj4g
PiAtIENPTkZJR19BUkNIX0hJQkVSTkFUSU9OX0hFQURFUg0KPiA+IC0gQ09ORklHX0FSQ0hfSElC
RVJOQVRJT05fUE9TU0lCTEUNCj4gPg0KPiA+IFNpZ25lZC1vZmYtYnk6IFNpYSBKZWUgSGVuZyA8
amVlaGVuZy5zaWFAc3RhcmZpdmV0ZWNoLmNvbT4NCj4gPiBSZXZpZXdlZC1ieTogTGV5IEZvb24g
VGFuIDxsZXlmb29uLnRhbkBzdGFyZml2ZXRlY2guY29tPg0KPiA+IFJldmlld2VkLWJ5OiBNYXNv
biBIdW8gPG1hc29uLmh1b0BzdGFyZml2ZXRlY2guY29tPg0KPiA+IC0tLQ0KPiA+ICAgYXJjaC9y
aXNjdi9LY29uZmlnICAgICAgICAgICAgICAgICB8ICAgNyArDQo+ID4gICBhcmNoL3Jpc2N2L2lu
Y2x1ZGUvYXNtL2Fzc2VtYmxlci5oIHwgIDIwICsrDQo+ID4gICBhcmNoL3Jpc2N2L2luY2x1ZGUv
YXNtL3N1c3BlbmQuaCAgIHwgIDE5ICsrDQo+ID4gICBhcmNoL3Jpc2N2L2tlcm5lbC9NYWtlZmls
ZSAgICAgICAgIHwgICAxICsNCj4gPiAgIGFyY2gvcmlzY3Yva2VybmVsL2FzbS1vZmZzZXRzLmMg
ICAgfCAgIDUgKw0KPiA+ICAgYXJjaC9yaXNjdi9rZXJuZWwvaGliZXJuYXRlLWFzbS5TICB8ICA3
NyArKysrKw0KPiA+ICAgYXJjaC9yaXNjdi9rZXJuZWwvaGliZXJuYXRlLmMgICAgICB8IDQ0NyAr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKw0KPiA+ICAgNyBmaWxlcyBjaGFuZ2VkLCA1NzYg
aW5zZXJ0aW9ucygrKQ0KPiA+ICAgY3JlYXRlIG1vZGUgMTAwNjQ0IGFyY2gvcmlzY3Yva2VybmVs
L2hpYmVybmF0ZS1hc20uUw0KPiA+ICAgY3JlYXRlIG1vZGUgMTAwNjQ0IGFyY2gvcmlzY3Yva2Vy
bmVsL2hpYmVybmF0ZS5jDQo+ID4NCj4gPiBkaWZmIC0tZ2l0IGEvYXJjaC9yaXNjdi9LY29uZmln
IGIvYXJjaC9yaXNjdi9LY29uZmlnDQo+ID4gaW5kZXggZTJiNjU2MDQzYWJmLi40NTU1ODQ4YTgx
N2YgMTAwNjQ0DQo+ID4gLS0tIGEvYXJjaC9yaXNjdi9LY29uZmlnDQo+ID4gKysrIGIvYXJjaC9y
aXNjdi9LY29uZmlnDQo+ID4gQEAgLTY5MCw2ICs2OTAsMTMgQEAgbWVudSAiUG93ZXIgbWFuYWdl
bWVudCBvcHRpb25zIg0KPiA+DQo+ID4gICBzb3VyY2UgImtlcm5lbC9wb3dlci9LY29uZmlnIg0K
PiA+DQo+ID4gK2NvbmZpZyBBUkNIX0hJQkVSTkFUSU9OX1BPU1NJQkxFDQo+ID4gKwlkZWZfYm9v
bCB5DQo+ID4gKw0KPiA+ICtjb25maWcgQVJDSF9ISUJFUk5BVElPTl9IRUFERVINCj4gPiArCWRl
Zl9ib29sIHkNCj4gPiArCWRlcGVuZHMgb24gSElCRVJOQVRJT04NCj4gPiArDQo+ID4gICBlbmRt
ZW51ICMgIlBvd2VyIG1hbmFnZW1lbnQgb3B0aW9ucyINCj4gPg0KPiA+ICAgbWVudSAiQ1BVIFBv
d2VyIE1hbmFnZW1lbnQiDQo+ID4gZGlmZiAtLWdpdCBhL2FyY2gvcmlzY3YvaW5jbHVkZS9hc20v
YXNzZW1ibGVyLmggYi9hcmNoL3Jpc2N2L2luY2x1ZGUvYXNtL2Fzc2VtYmxlci5oDQo+ID4gaW5k
ZXggNzI3YTk3NzM1NDkzLi42OGM0NmMwZTBlYTggMTAwNjQ0DQo+ID4gLS0tIGEvYXJjaC9yaXNj
di9pbmNsdWRlL2FzbS9hc3NlbWJsZXIuaA0KPiA+ICsrKyBiL2FyY2gvcmlzY3YvaW5jbHVkZS9h
c20vYXNzZW1ibGVyLmgNCj4gPiBAQCAtNTksNCArNTksMjQgQEANCj4gPiAgIAkJUkVHX0wJczEx
LCAoU1VTUEVORF9DT05URVhUX1JFR1MgKyBQVF9TMTEpKGEwKQ0KPiA+ICAgCS5lbmRtDQo+ID4N
Cj4gPiArLyoNCj4gPiArICogY29weV9wYWdlIC0gY29weSAxIHBhZ2UgKDRLQikgb2YgZGF0YSBm
cm9tIHNvdXJjZSB0byBkZXN0aW5hdGlvbg0KPiA+ICsgKiBAYTAgLSBkZXN0aW5hdGlvbg0KPiA+
ICsgKiBAYTEgLSBzb3VyY2UNCj4gPiArICovDQo+ID4gKwkubWFjcm8JY29weV9wYWdlIGEwLCBh
MQ0KPiA+ICsJCWx1aQlhMiwgMHgxDQo+ID4gKwkJYWRkCWEyLCBhMiwgYTANCj4gPiArMSA6DQo+
ID4gKwkJUkVHX0wJdDAsIDAoYTEpDQo+ID4gKwkJUkVHX0wJdDEsIFNaUkVHKGExKQ0KPiA+ICsN
Cj4gPiArCQlSRUdfUwl0MCwgMChhMCkNCj4gPiArCQlSRUdfUwl0MSwgU1pSRUcoYTApDQo+ID4g
Kw0KPiA+ICsJCWFkZGkJYTAsIGEwLCAyICogU1pSRUcNCj4gPiArCQlhZGRpCWExLCBhMSwgMiAq
IFNaUkVHDQo+ID4gKwkJYm5lCWEyLCBhMCwgMWINCj4gPiArCS5lbmRtDQo+ID4gKw0KPiA+ICAg
I2VuZGlmCS8qIF9fQVNNX0FTU0VNQkxFUl9IICovDQo+ID4gZGlmZiAtLWdpdCBhL2FyY2gvcmlz
Y3YvaW5jbHVkZS9hc20vc3VzcGVuZC5oIGIvYXJjaC9yaXNjdi9pbmNsdWRlL2FzbS9zdXNwZW5k
LmgNCj4gPiBpbmRleCA3NTQxOWM1Y2EyNzIuLjMzNjJkYTU2YTlkOCAxMDA2NDQNCj4gPiAtLS0g
YS9hcmNoL3Jpc2N2L2luY2x1ZGUvYXNtL3N1c3BlbmQuaA0KPiA+ICsrKyBiL2FyY2gvcmlzY3Yv
aW5jbHVkZS9hc20vc3VzcGVuZC5oDQo+ID4gQEAgLTIxLDYgKzIxLDExIEBAIHN0cnVjdCBzdXNw
ZW5kX2NvbnRleHQgew0KPiA+ICAgI2VuZGlmDQo+ID4gICB9Ow0KPiA+DQo+ID4gKy8qDQo+ID4g
KyAqIFVzZWQgYnkgaGliZXJuYXRpb24gY29yZSBhbmQgY2xlYXJlZCBkdXJpbmcgcmVzdW1lIHNl
cXVlbmNlDQo+ID4gKyAqLw0KPiA+ICtleHRlcm4gaW50IGluX3N1c3BlbmQ7DQo+ID4gKw0KPiA+
ICAgLyogTG93LWxldmVsIENQVSBzdXNwZW5kIGVudHJ5IGZ1bmN0aW9uICovDQo+ID4gICBpbnQg
X19jcHVfc3VzcGVuZF9lbnRlcihzdHJ1Y3Qgc3VzcGVuZF9jb250ZXh0ICpjb250ZXh0KTsNCj4g
Pg0KPiA+IEBAIC0zNiw0ICs0MSwxOCBAQCBpbnQgX19jcHVfcmVzdW1lX2VudGVyKHVuc2lnbmVk
IGxvbmcgaGFydGlkLCB1bnNpZ25lZCBsb25nIGNvbnRleHQpOw0KPiA+ICAgLyogVXNlZCB0byBz
YXZlIGFuZCByZXN0b3JlIHRoZSBjc3IgKi8NCj4gPiAgIHZvaWQgc3VzcGVuZF9zYXZlX2NzcnMo
c3RydWN0IHN1c3BlbmRfY29udGV4dCAqY29udGV4dCk7DQo+ID4gICB2b2lkIHN1c3BlbmRfcmVz
dG9yZV9jc3JzKHN0cnVjdCBzdXNwZW5kX2NvbnRleHQgKmNvbnRleHQpOw0KPiA+ICsNCj4gPiAr
LyogTG93LWxldmVsIEFQSSB0byBzdXBwb3J0IGhpYmVybmF0aW9uICovDQo+ID4gK2ludCBzd3N1
c3BfYXJjaF9zdXNwZW5kKHZvaWQpOw0KPiA+ICtpbnQgc3dzdXNwX2FyY2hfcmVzdW1lKHZvaWQp
Ow0KPiA+ICtpbnQgYXJjaF9oaWJlcm5hdGlvbl9oZWFkZXJfc2F2ZSh2b2lkICphZGRyLCB1bnNp
Z25lZCBpbnQgbWF4X3NpemUpOw0KPiA+ICtpbnQgYXJjaF9oaWJlcm5hdGlvbl9oZWFkZXJfcmVz
dG9yZSh2b2lkICphZGRyKTsNCj4gPiAraW50IF9faGliZXJuYXRlX2NwdV9yZXN1bWUodm9pZCk7
DQo+ID4gKw0KPiA+ICsvKiBVc2VkIHRvIHJlc3VtZSBvbiB0aGUgQ1BVIHdlIGhpYmVybmF0ZWQg
b24gKi8NCj4gPiAraW50IGhpYmVybmF0ZV9yZXN1bWVfbm9uYm9vdF9jcHVfZGlzYWJsZSh2b2lk
KTsNCj4gPiArDQo+ID4gK2FzbWxpbmthZ2Ugdm9pZCBoaWJlcm5hdGVfcmVzdG9yZV9pbWFnZSh1
bnNpZ25lZCBsb25nIHJlc3VtZV9zYXRwLCB1bnNpZ25lZCBsb25nIHNhdHBfdGVtcCwNCj4gPiAr
CQkJCQl1bnNpZ25lZCBsb25nIGNwdV9yZXN1bWUpOw0KPiA+ICthc21saW5rYWdlIGludCBoaWJl
cm5hdGVfY29yZV9yZXN0b3JlX2NvZGUodm9pZCk7DQo+ID4gICAjZW5kaWYNCj4gPiBkaWZmIC0t
Z2l0IGEvYXJjaC9yaXNjdi9rZXJuZWwvTWFrZWZpbGUgYi9hcmNoL3Jpc2N2L2tlcm5lbC9NYWtl
ZmlsZQ0KPiA+IGluZGV4IDRjZjMwM2E3NzlhYi4uZGFhYjM0MWQ1NWU0IDEwMDY0NA0KPiA+IC0t
LSBhL2FyY2gvcmlzY3Yva2VybmVsL01ha2VmaWxlDQo+ID4gKysrIGIvYXJjaC9yaXNjdi9rZXJu
ZWwvTWFrZWZpbGUNCj4gPiBAQCAtNjQsNiArNjQsNyBAQCBvYmotJChDT05GSUdfTU9EVUxFUykJ
CSs9IG1vZHVsZS5vDQo+ID4gICBvYmotJChDT05GSUdfTU9EVUxFX1NFQ1RJT05TKQkrPSBtb2R1
bGUtc2VjdGlvbnMubw0KPiA+DQo+ID4gICBvYmotJChDT05GSUdfQ1BVX1BNKQkJKz0gc3VzcGVu
ZF9lbnRyeS5vIHN1c3BlbmQubw0KPiA+ICtvYmotJChDT05GSUdfSElCRVJOQVRJT04pCSs9IGhp
YmVybmF0ZS5vIGhpYmVybmF0ZS1hc20ubw0KPiA+DQo+ID4gICBvYmotJChDT05GSUdfRlVOQ1RJ
T05fVFJBQ0VSKQkrPSBtY291bnQubyBmdHJhY2Uubw0KPiA+ICAgb2JqLSQoQ09ORklHX0RZTkFN
SUNfRlRSQUNFKQkrPSBtY291bnQtZHluLm8NCj4gPiBkaWZmIC0tZ2l0IGEvYXJjaC9yaXNjdi9r
ZXJuZWwvYXNtLW9mZnNldHMuYyBiL2FyY2gvcmlzY3Yva2VybmVsL2FzbS1vZmZzZXRzLmMNCj4g
PiBpbmRleCBkZjk0NDQzOTc5MDguLmQ2YTc1YWFjMWQyNyAxMDA2NDQNCj4gPiAtLS0gYS9hcmNo
L3Jpc2N2L2tlcm5lbC9hc20tb2Zmc2V0cy5jDQo+ID4gKysrIGIvYXJjaC9yaXNjdi9rZXJuZWwv
YXNtLW9mZnNldHMuYw0KPiA+IEBAIC05LDYgKzksNyBAQA0KPiA+ICAgI2luY2x1ZGUgPGxpbnV4
L2tidWlsZC5oPg0KPiA+ICAgI2luY2x1ZGUgPGxpbnV4L21tLmg+DQo+ID4gICAjaW5jbHVkZSA8
bGludXgvc2NoZWQuaD4NCj4gPiArI2luY2x1ZGUgPGxpbnV4L3N1c3BlbmQuaD4NCj4gPiAgICNp
bmNsdWRlIDxhc20va3ZtX2hvc3QuaD4NCj4gPiAgICNpbmNsdWRlIDxhc20vdGhyZWFkX2luZm8u
aD4NCj4gPiAgICNpbmNsdWRlIDxhc20vcHRyYWNlLmg+DQo+ID4gQEAgLTExNiw2ICsxMTcsMTAg
QEAgdm9pZCBhc21fb2Zmc2V0cyh2b2lkKQ0KPiA+DQo+ID4gICAJT0ZGU0VUKFNVU1BFTkRfQ09O
VEVYVF9SRUdTLCBzdXNwZW5kX2NvbnRleHQsIHJlZ3MpOw0KPiA+DQo+ID4gKwlPRkZTRVQoSElC
RVJOX1BCRV9BRERSLCBwYmUsIGFkZHJlc3MpOw0KPiA+ICsJT0ZGU0VUKEhJQkVSTl9QQkVfT1JJ
RywgcGJlLCBvcmlnX2FkZHJlc3MpOw0KPiA+ICsJT0ZGU0VUKEhJQkVSTl9QQkVfTkVYVCwgcGJl
LCBuZXh0KTsNCj4gPiArDQo+ID4gICAJT0ZGU0VUKEtWTV9BUkNIX0dVRVNUX1pFUk8sIGt2bV92
Y3B1X2FyY2gsIGd1ZXN0X2NvbnRleHQuemVybyk7DQo+ID4gICAJT0ZGU0VUKEtWTV9BUkNIX0dV
RVNUX1JBLCBrdm1fdmNwdV9hcmNoLCBndWVzdF9jb250ZXh0LnJhKTsNCj4gPiAgIAlPRkZTRVQo
S1ZNX0FSQ0hfR1VFU1RfU1AsIGt2bV92Y3B1X2FyY2gsIGd1ZXN0X2NvbnRleHQuc3ApOw0KPiA+
IGRpZmYgLS1naXQgYS9hcmNoL3Jpc2N2L2tlcm5lbC9oaWJlcm5hdGUtYXNtLlMgYi9hcmNoL3Jp
c2N2L2tlcm5lbC9oaWJlcm5hdGUtYXNtLlMNCj4gPiBuZXcgZmlsZSBtb2RlIDEwMDY0NA0KPiA+
IGluZGV4IDAwMDAwMDAwMDAwMC4uODQ2YWZmZTRkY2VkDQo+ID4gLS0tIC9kZXYvbnVsbA0KPiA+
ICsrKyBiL2FyY2gvcmlzY3Yva2VybmVsL2hpYmVybmF0ZS1hc20uUw0KPiA+IEBAIC0wLDAgKzEs
NzcgQEANCj4gPiArLyogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seSAqLw0K
PiA+ICsvKg0KPiA+ICsgKiBIaWJlcm5hdGlvbiBsb3cgbGV2ZWwgc3VwcG9ydCBmb3IgUklTQ1Yu
DQo+ID4gKyAqDQo+ID4gKyAqIENvcHlyaWdodCAoQykgMjAyMyBTdGFyRml2ZSBUZWNobm9sb2d5
IENvLiwgTHRkLg0KPiA+ICsgKg0KPiA+ICsgKiBBdXRob3I6IEplZSBIZW5nIFNpYSA8amVlaGVu
Zy5zaWFAc3RhcmZpdmV0ZWNoLmNvbT4NCj4gPiArICovDQo+ID4gKw0KPiA+ICsjaW5jbHVkZSA8
YXNtL2FzbS5oPg0KPiA+ICsjaW5jbHVkZSA8YXNtL2FzbS1vZmZzZXRzLmg+DQo+ID4gKyNpbmNs
dWRlIDxhc20vYXNzZW1ibGVyLmg+DQo+ID4gKyNpbmNsdWRlIDxhc20vY3NyLmg+DQo+ID4gKw0K
PiA+ICsjaW5jbHVkZSA8bGludXgvbGlua2FnZS5oPg0KPiA+ICsNCj4gPiArLyoNCj4gPiArICog
aW50IF9faGliZXJuYXRlX2NwdV9yZXN1bWUodm9pZCkNCj4gPiArICogU3dpdGNoIGJhY2sgdG8g
dGhlIGhpYmVybmF0ZWQgaW1hZ2UncyBwYWdlIHRhYmxlIHByaW9yIHRvIHJlc3RvcmluZyB0aGUg
Q1BVDQo+ID4gKyAqIGNvbnRleHQuDQo+ID4gKyAqDQo+ID4gKyAqIEFsd2F5cyByZXR1cm5zIDAN
Cj4gPiArICovDQo+ID4gK0VOVFJZKF9faGliZXJuYXRlX2NwdV9yZXN1bWUpDQo+ID4gKwkvKiBz
d2l0Y2ggdG8gaGliZXJuYXRlZCBpbWFnZSdzIHBhZ2UgdGFibGUuICovDQo+ID4gKwljc3J3IENT
Ul9TQVRQLCBzMA0KPiA+ICsJc2ZlbmNlLnZtYQ0KPiA+ICsNCj4gPiArCVJFR19MCWEwLCBoaWJl
cm5hdGVfY3B1X2NvbnRleHQNCj4gPiArDQo+ID4gKwlyZXN0b3JlX2Nzcg0KPiA+ICsJcmVzdG9y
ZV9yZWcNCj4gPiArDQo+ID4gKwkvKiBSZXR1cm4gemVybyB2YWx1ZS4gKi8NCj4gPiArCWFkZAlh
MCwgemVybywgemVybw0KPiA+ICsNCj4gPiArCXJldA0KPiA+ICtFTkQoX19oaWJlcm5hdGVfY3B1
X3Jlc3VtZSkNCj4gPiArDQo+ID4gKy8qDQo+ID4gKyAqIFByZXBhcmUgdG8gcmVzdG9yZSB0aGUg
aW1hZ2UuDQo+ID4gKyAqIGEwOiBzYXRwIG9mIHNhdmVkIHBhZ2UgdGFibGVzLg0KPiA+ICsgKiBh
MTogc2F0cCBvZiB0ZW1wb3JhcnkgcGFnZSB0YWJsZXMuDQo+ID4gKyAqIGEyOiBjcHVfcmVzdW1l
Lg0KPiA+ICsgKi8NCj4gPiArRU5UUlkoaGliZXJuYXRlX3Jlc3RvcmVfaW1hZ2UpDQo+ID4gKwlt
dglzMCwgYTANCj4gPiArCW12CXMxLCBhMQ0KPiA+ICsJbXYJczIsIGEyDQo+ID4gKwlSRUdfTAlz
NCwgcmVzdG9yZV9wYmxpc3QNCj4gPiArCVJFR19MCWExLCByZWxvY2F0ZWRfcmVzdG9yZV9jb2Rl
DQo+ID4gKw0KPiA+ICsJamFscglhMQ0KPiA+ICtFTkQoaGliZXJuYXRlX3Jlc3RvcmVfaW1hZ2Up
DQo+ID4gKw0KPiA+ICsvKg0KPiA+ICsgKiBUaGUgYmVsb3cgY29kZSB3aWxsIGJlIGV4ZWN1dGVk
IGZyb20gYSAnc2FmZScgcGFnZS4NCj4gPiArICogSXQgZmlyc3Qgc3dpdGNoZXMgdG8gdGhlIHRl
bXBvcmFyeSBwYWdlIHRhYmxlLCB0aGVuIHN0YXJ0cyB0byBjb3B5IHRoZSBwYWdlcw0KPiA+ICsg
KiBiYWNrIHRvIHRoZSBvcmlnaW5hbCBtZW1vcnkgbG9jYXRpb24uIEZpbmFsbHksIGl0IGp1bXBz
IHRvIF9faGliZXJuYXRlX2NwdV9yZXN1bWUoKQ0KPiA+ICsgKiB0byByZXN0b3JlIHRoZSBDUFUg
Y29udGV4dC4NCj4gPiArICovDQo+ID4gK0VOVFJZKGhpYmVybmF0ZV9jb3JlX3Jlc3RvcmVfY29k
ZSkNCj4gPiArCS8qIHN3aXRjaCB0byB0ZW1wIHBhZ2UgdGFibGUuICovDQo+ID4gKwljc3J3IHNh
dHAsIHMxDQo+ID4gKwlzZmVuY2Uudm1hDQo+ID4gKy5MY29weToNCj4gPiArCS8qIFRoZSBiZWxv
dyBjb2RlIHdpbGwgcmVzdG9yZSB0aGUgaGliZXJuYXRlZCBpbWFnZS4gKi8NCj4gPiArCVJFR19M
CWExLCBISUJFUk5fUEJFX0FERFIoczQpDQo+ID4gKwlSRUdfTAlhMCwgSElCRVJOX1BCRV9PUklH
KHM0KQ0KPiA+ICsNCj4gPiArCWNvcHlfcGFnZSBhMCwgYTENCj4gPiArDQo+ID4gKwlSRUdfTAlz
NCwgSElCRVJOX1BCRV9ORVhUKHM0KQ0KPiA+ICsJYm5leglzNCwgLkxjb3B5DQo+ID4gKw0KPiA+
ICsJamFscglzMg0KPiA+ICtFTkQoaGliZXJuYXRlX2NvcmVfcmVzdG9yZV9jb2RlKQ0KPiA+IGRp
ZmYgLS1naXQgYS9hcmNoL3Jpc2N2L2tlcm5lbC9oaWJlcm5hdGUuYyBiL2FyY2gvcmlzY3Yva2Vy
bmVsL2hpYmVybmF0ZS5jDQo+ID4gbmV3IGZpbGUgbW9kZSAxMDA2NDQNCj4gPiBpbmRleCAwMDAw
MDAwMDAwMDAuLjQ2YTJmNDcwZGI2ZQ0KPiA+IC0tLSAvZGV2L251bGwNCj4gPiArKysgYi9hcmNo
L3Jpc2N2L2tlcm5lbC9oaWJlcm5hdGUuYw0KPiA+IEBAIC0wLDAgKzEsNDQ3IEBADQo+ID4gKy8v
IFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkNCj4gPiArLyoNCj4gPiArICog
SGliZXJuYXRpb24gc3VwcG9ydCBmb3IgUklTQ1YNCj4gPiArICoNCj4gPiArICogQ29weXJpZ2h0
IChDKSAyMDIzIFN0YXJGaXZlIFRlY2hub2xvZ3kgQ28uLCBMdGQuDQo+ID4gKyAqDQo+ID4gKyAq
IEF1dGhvcjogSmVlIEhlbmcgU2lhIDxqZWVoZW5nLnNpYUBzdGFyZml2ZXRlY2guY29tPg0KPiA+
ICsgKi8NCj4gPiArDQo+ID4gKyNpbmNsdWRlIDxhc20vYmFycmllci5oPg0KPiA+ICsjaW5jbHVk
ZSA8YXNtL2NhY2hlZmx1c2guaD4NCj4gPiArI2luY2x1ZGUgPGFzbS9tbXVfY29udGV4dC5oPg0K
PiA+ICsjaW5jbHVkZSA8YXNtL3BhZ2UuaD4NCj4gPiArI2luY2x1ZGUgPGFzbS9wZ2FsbG9jLmg+
DQo+ID4gKyNpbmNsdWRlIDxhc20vcGd0YWJsZS5oPg0KPiA+ICsjaW5jbHVkZSA8YXNtL3NlY3Rp
b25zLmg+DQo+ID4gKyNpbmNsdWRlIDxhc20vc2V0X21lbW9yeS5oPg0KPiA+ICsjaW5jbHVkZSA8
YXNtL3NtcC5oPg0KPiA+ICsjaW5jbHVkZSA8YXNtL3N1c3BlbmQuaD4NCj4gPiArDQo+ID4gKyNp
bmNsdWRlIDxsaW51eC9jcHUuaD4NCj4gPiArI2luY2x1ZGUgPGxpbnV4L21lbWJsb2NrLmg+DQo+
ID4gKyNpbmNsdWRlIDxsaW51eC9wbS5oPg0KPiA+ICsjaW5jbHVkZSA8bGludXgvc2NoZWQuaD4N
Cj4gPiArI2luY2x1ZGUgPGxpbnV4L3N1c3BlbmQuaD4NCj4gPiArI2luY2x1ZGUgPGxpbnV4L3V0
c25hbWUuaD4NCj4gPiArDQo+ID4gKy8qIFRoZSBsb2dpY2FsIGNwdSBudW1iZXIgd2Ugc2hvdWxk
IHJlc3VtZSBvbiwgaW5pdGlhbGlzZWQgdG8gYSBub24tY3B1IG51bWJlci4gKi8NCj4gPiArc3Rh
dGljIGludCBzbGVlcF9jcHUgPSAtRUlOVkFMOw0KPiA+ICsNCj4gPiArLyogUG9pbnRlciB0byB0
aGUgdGVtcG9yYXJ5IHJlc3VtZSBwYWdlIHRhYmxlLiAqLw0KPiA+ICtzdGF0aWMgcGdkX3QgKnJl
c3VtZV9wZ19kaXI7DQo+ID4gKw0KPiA+ICsvKiBDUFUgY29udGV4dCB0byBiZSBzYXZlZC4gKi8N
Cj4gPiArc3RydWN0IHN1c3BlbmRfY29udGV4dCAqaGliZXJuYXRlX2NwdV9jb250ZXh0Ow0KPiA+
ICtFWFBPUlRfU1lNQk9MX0dQTChoaWJlcm5hdGVfY3B1X2NvbnRleHQpOw0KPiA+ICsNCj4gPiAr
dW5zaWduZWQgbG9uZyByZWxvY2F0ZWRfcmVzdG9yZV9jb2RlOw0KPiA+ICtFWFBPUlRfU1lNQk9M
X0dQTChyZWxvY2F0ZWRfcmVzdG9yZV9jb2RlKTsNCj4gPiArDQo+ID4gKy8qKg0KPiA+ICsgKiBz
dHJ1Y3QgYXJjaF9oaWJlcm5hdGVfaGRyX2ludmFyaWFudHMgLSBjb250YWluZXIgdG8gc3RvcmUg
a2VybmVsIGJ1aWxkIHZlcnNpb24uDQo+ID4gKyAqIEB1dHNfdmVyc2lvbjogdG8gc2F2ZSB0aGUg
YnVpbGQgbnVtYmVyIGFuZCBkYXRlIHNvIHRoYXQgdGhlIHdlIGRvIG5vdCByZXN1bWUgd2l0aA0K
PiA+ICsgKgkJYSBkaWZmZXJlbnQga2VybmVsLg0KPiA+ICsgKi8NCj4gPiArc3RydWN0IGFyY2hf
aGliZXJuYXRlX2hkcl9pbnZhcmlhbnRzIHsNCj4gPiArCWNoYXIJCXV0c192ZXJzaW9uW19fTkVX
X1VUU19MRU4gKyAxXTsNCj4gPiArfTsNCj4gPiArDQo+ID4gKy8qKg0KPiA+ICsgKiBzdHJ1Y3Qg
YXJjaF9oaWJlcm5hdGVfaGRyIC0gaGVscGVyIHBhcmFtZXRlcnMgdGhhdCBoZWxwIHVzIHRvIHJl
c3RvcmUgdGhlIGltYWdlLg0KPiA+ICsgKiBAaW52YXJpYW50czogY29udGFpbmVyIHRvIHN0b3Jl
IGtlcm5lbCBidWlsZCB2ZXJzaW9uLg0KPiA+ICsgKiBAaGFydGlkOiB0byBtYWtlIHN1cmUgc2Ft
ZSBib290X2NwdSBleGVjdXRlcyB0aGUgaGliZXJuYXRlL3Jlc3RvcmUgY29kZS4NCj4gPiArICog
QHNhdmVkX3NhdHA6IG9yaWdpbmFsIHBhZ2UgdGFibGUgdXNlZCBieSB0aGUgaGliZXJuYXRlZCBp
bWFnZS4NCj4gPiArICogQHJlc3RvcmVfY3B1X2FkZHI6IHRoZSBrZXJuZWwncyBpbWFnZSBhZGRy
ZXNzIHRvIHJlc3RvcmUgdGhlIENQVSBjb250ZXh0Lg0KPiA+ICsgKi8NCj4gPiArc3RhdGljIHN0
cnVjdCBhcmNoX2hpYmVybmF0ZV9oZHIgew0KPiA+ICsJc3RydWN0IGFyY2hfaGliZXJuYXRlX2hk
cl9pbnZhcmlhbnRzIGludmFyaWFudHM7DQo+ID4gKwl1bnNpZ25lZCBsb25nCWhhcnRpZDsNCj4g
PiArCXVuc2lnbmVkIGxvbmcJc2F2ZWRfc2F0cDsNCj4gPiArCXVuc2lnbmVkIGxvbmcJcmVzdG9y
ZV9jcHVfYWRkcjsNCj4gPiArfSByZXN1bWVfaGRyOw0KPiA+ICsNCj4gPiArc3RhdGljIGlubGlu
ZSB2b2lkIGFyY2hfaGRyX2ludmFyaWFudHMoc3RydWN0IGFyY2hfaGliZXJuYXRlX2hkcl9pbnZh
cmlhbnRzICppKQ0KPiA+ICt7DQo+ID4gKwltZW1zZXQoaSwgMCwgc2l6ZW9mKCppKSk7DQo+ID4g
KwltZW1jcHkoaS0+dXRzX3ZlcnNpb24sIGluaXRfdXRzbmFtZSgpLT52ZXJzaW9uLCBzaXplb2Yo
aS0+dXRzX3ZlcnNpb24pKTsNCj4gPiArfQ0KPiA+ICsNCj4gPiArLyoNCj4gPiArICogQ2hlY2sg
aWYgdGhlIGdpdmVuIHBmbiBpcyBpbiB0aGUgJ25vc2F2ZScgc2VjdGlvbi4NCj4gPiArICovDQo+
ID4gK2ludCBwZm5faXNfbm9zYXZlKHVuc2lnbmVkIGxvbmcgcGZuKQ0KPiA+ICt7DQo+ID4gKwl1
bnNpZ25lZCBsb25nIG5vc2F2ZV9iZWdpbl9wZm4gPSBzeW1fdG9fcGZuKCZfX25vc2F2ZV9iZWdp
bik7DQo+ID4gKwl1bnNpZ25lZCBsb25nIG5vc2F2ZV9lbmRfcGZuID0gc3ltX3RvX3BmbigmX19u
b3NhdmVfZW5kIC0gMSk7DQo+ID4gKw0KPiA+ICsJcmV0dXJuICgocGZuID49IG5vc2F2ZV9iZWdp
bl9wZm4pICYmIChwZm4gPD0gbm9zYXZlX2VuZF9wZm4pKTsNCj4gPiArfQ0KPiA+ICsNCj4gPiAr
dm9pZCBub3RyYWNlIHNhdmVfcHJvY2Vzc29yX3N0YXRlKHZvaWQpDQo+ID4gK3sNCj4gPiArCVdB
Uk5fT04obnVtX29ubGluZV9jcHVzKCkgIT0gMSk7DQo+ID4gK30NCj4gPiArDQo+ID4gK3ZvaWQg
bm90cmFjZSByZXN0b3JlX3Byb2Nlc3Nvcl9zdGF0ZSh2b2lkKQ0KPiA+ICt7DQo+ID4gK30NCj4g
PiArDQo+ID4gKy8qDQo+ID4gKyAqIEhlbHBlciBwYXJhbWV0ZXJzIG5lZWQgdG8gYmUgc2F2ZWQg
dG8gdGhlIGhpYmVybmF0aW9uIGltYWdlIGhlYWRlci4NCj4gPiArICovDQo+ID4gK2ludCBhcmNo
X2hpYmVybmF0aW9uX2hlYWRlcl9zYXZlKHZvaWQgKmFkZHIsIHVuc2lnbmVkIGludCBtYXhfc2l6
ZSkNCj4gPiArew0KPiA+ICsJc3RydWN0IGFyY2hfaGliZXJuYXRlX2hkciAqaGRyID0gYWRkcjsN
Cj4gPiArDQo+ID4gKwlpZiAobWF4X3NpemUgPCBzaXplb2YoKmhkcikpDQo+ID4gKwkJcmV0dXJu
IC1FT1ZFUkZMT1c7DQo+ID4gKw0KPiA+ICsJYXJjaF9oZHJfaW52YXJpYW50cygmaGRyLT5pbnZh
cmlhbnRzKTsNCj4gPiArDQo+ID4gKwloZHItPmhhcnRpZCA9IGNwdWlkX3RvX2hhcnRpZF9tYXAo
c2xlZXBfY3B1KTsNCj4gPiArCWhkci0+c2F2ZWRfc2F0cCA9IGNzcl9yZWFkKENTUl9TQVRQKTsN
Cj4gPiArCWhkci0+cmVzdG9yZV9jcHVfYWRkciA9ICh1bnNpZ25lZCBsb25nKV9faGliZXJuYXRl
X2NwdV9yZXN1bWU7DQo+ID4gKw0KPiA+ICsJcmV0dXJuIDA7DQo+ID4gK30NCj4gPiArRVhQT1JU
X1NZTUJPTF9HUEwoYXJjaF9oaWJlcm5hdGlvbl9oZWFkZXJfc2F2ZSk7DQo+ID4gKw0KPiA+ICsv
Kg0KPiA+ICsgKiBSZXRyaWV2ZSB0aGUgaGVscGVyIHBhcmFtZXRlcnMgZnJvbSB0aGUgaGliZXJu
YXRpb24gaW1hZ2UgaGVhZGVyLg0KPiA+ICsgKi8NCj4gPiAraW50IGFyY2hfaGliZXJuYXRpb25f
aGVhZGVyX3Jlc3RvcmUodm9pZCAqYWRkcikNCj4gPiArew0KPiA+ICsJc3RydWN0IGFyY2hfaGli
ZXJuYXRlX2hkcl9pbnZhcmlhbnRzIGludmFyaWFudHM7DQo+ID4gKwlzdHJ1Y3QgYXJjaF9oaWJl
cm5hdGVfaGRyICpoZHIgPSBhZGRyOw0KPiA+ICsJaW50IHJldCA9IDA7DQo+ID4gKw0KPiA+ICsJ
YXJjaF9oZHJfaW52YXJpYW50cygmaW52YXJpYW50cyk7DQo+ID4gKw0KPiA+ICsJaWYgKG1lbWNt
cCgmaGRyLT5pbnZhcmlhbnRzLCAmaW52YXJpYW50cywgc2l6ZW9mKGludmFyaWFudHMpKSkgew0K
PiA+ICsJCXByX2NyaXQoIkhpYmVybmF0ZSBpbWFnZSBub3QgZ2VuZXJhdGVkIGJ5IHRoaXMga2Vy
bmVsIVxuIik7DQo+ID4gKwkJcmV0dXJuIC1FSU5WQUw7DQo+ID4gKwl9DQo+ID4gKw0KPiA+ICsJ
c2xlZXBfY3B1ID0gcmlzY3ZfaGFydGlkX3RvX2NwdWlkKGhkci0+aGFydGlkKTsNCj4gPiArCWlm
IChzbGVlcF9jcHUgPCAwKSB7DQo+ID4gKwkJcHJfY3JpdCgiSGliZXJuYXRlZCBvbiBhIENQVSBu
b3Qga25vd24gdG8gdGhpcyBrZXJuZWwhXG4iKTsNCj4gPiArCQlzbGVlcF9jcHUgPSAtRUlOVkFM
Ow0KPiA+ICsJCXJldHVybiAtRUlOVkFMOw0KPiA+ICsJfQ0KPiA+ICsNCj4gPiArI2lmZGVmIENP
TkZJR19TTVANCj4gPiArCXJldCA9IGJyaW5ndXBfaGliZXJuYXRlX2NwdShzbGVlcF9jcHUpOw0K
PiA+ICsJaWYgKHJldCkgew0KPiA+ICsJCXNsZWVwX2NwdSA9IC1FSU5WQUw7DQo+ID4gKwkJcmV0
dXJuIHJldDsNCj4gPiArCX0NCj4gPiArI2VuZGlmDQo+ID4gKwlyZXN1bWVfaGRyID0gKmhkcjsN
Cj4gPiArDQo+ID4gKwlyZXR1cm4gcmV0Ow0KPiA+ICt9DQo+ID4gK0VYUE9SVF9TWU1CT0xfR1BM
KGFyY2hfaGliZXJuYXRpb25faGVhZGVyX3Jlc3RvcmUpOw0KPiA+ICsNCj4gPiAraW50IHN3c3Vz
cF9hcmNoX3N1c3BlbmQodm9pZCkNCj4gPiArew0KPiA+ICsJaW50IHJldCA9IDA7DQo+ID4gKw0K
PiA+ICsJaWYgKF9fY3B1X3N1c3BlbmRfZW50ZXIoaGliZXJuYXRlX2NwdV9jb250ZXh0KSkgew0K
PiA+ICsJCXNsZWVwX2NwdSA9IHNtcF9wcm9jZXNzb3JfaWQoKTsNCj4gPiArCQlzdXNwZW5kX3Nh
dmVfY3NycyhoaWJlcm5hdGVfY3B1X2NvbnRleHQpOw0KPiA+ICsJCXJldCA9IHN3c3VzcF9zYXZl
KCk7DQo+ID4gKwl9IGVsc2Ugew0KPiA+ICsJCXN1c3BlbmRfcmVzdG9yZV9jc3JzKGhpYmVybmF0
ZV9jcHVfY29udGV4dCk7DQo+ID4gKwkJZmx1c2hfdGxiX2FsbCgpOw0KPiA+ICsJCWZsdXNoX2lj
YWNoZV9hbGwoKTsNCj4gPiArDQo+ID4gKwkJLyoNCj4gPiArCQkgKiBUZWxsIHRoZSBoaWJlcm5h
dGlvbiBjb3JlIHRoYXQgd2UndmUganVzdCByZXN0b3JlZCB0aGUgbWVtb3J5Lg0KPiA+ICsJCSAq
Lw0KPiA+ICsJCWluX3N1c3BlbmQgPSAwOw0KPiA+ICsJCXNsZWVwX2NwdSA9IC1FSU5WQUw7DQo+
ID4gKwl9DQo+ID4gKw0KPiA+ICsJcmV0dXJuIHJldDsNCj4gPiArfQ0KPiA+ICsNCj4gPiArc3Rh
dGljIHVuc2lnbmVkIGxvbmcgX3RlbXBfcGd0YWJsZV9tYXBfcHRlKHB0ZV90ICpkc3RfcHRlcCwg
cHRlX3QgKnNyY19wdGVwLA0KPiA+ICsJCQkJCSAgIHVuc2lnbmVkIGxvbmcgYWRkciwgcGdwcm90
X3QgcHJvdCkNCj4gPiArew0KPiA+ICsJcHRlX3QgcHRlID0gUkVBRF9PTkNFKCpzcmNfcHRlcCk7
DQo+ID4gKw0KPiA+ICsJaWYgKHB0ZV9wcmVzZW50KHB0ZSkpDQo+ID4gKwkJc2V0X3B0ZShkc3Rf
cHRlcCwgX19wdGUocHRlX3ZhbChwdGUpIHwgcGdwcm90X3ZhbChwcm90KSkpOw0KPiA+ICsNCj4g
PiArCXJldHVybiAwOw0KPiA+ICt9DQo+IA0KPiANCj4gSSBkb24ndCBzZWUgdGhlIG5lZWQgZm9y
IHRoaXMgZnVuY3Rpb24NClN1cmUsIGNhbiByZW1vdmUgaXQuDQo+IA0KPiANCj4gPiArDQo+ID4g
K3N0YXRpYyB1bnNpZ25lZCBsb25nIHRlbXBfcGd0YWJsZV9tYXBfcHRlKHBtZF90ICpkc3RfcG1k
cCwgcG1kX3QgKnNyY19wbWRwLA0KPiA+ICsJCQkJCSAgdW5zaWduZWQgbG9uZyBzdGFydCwgdW5z
aWduZWQgbG9uZyBlbmQsDQo+ID4gKwkJCQkJICBwZ3Byb3RfdCBwcm90KQ0KPiA+ICt7DQo+ID4g
Kwl1bnNpZ25lZCBsb25nIGFkZHIgPSBzdGFydDsNCj4gPiArCXB0ZV90ICpzcmNfcHRlcDsNCj4g
PiArCXB0ZV90ICpkc3RfcHRlcDsNCj4gPiArDQo+ID4gKwlpZiAocG1kX25vbmUoUkVBRF9PTkNF
KCpkc3RfcG1kcCkpKSB7DQo+ID4gKwkJZHN0X3B0ZXAgPSAocHRlX3QgKilnZXRfc2FmZV9wYWdl
KEdGUF9BVE9NSUMpOw0KPiA+ICsJCWlmICghZHN0X3B0ZXApDQo+ID4gKwkJCXJldHVybiAtRU5P
TUVNOw0KPiA+ICsNCj4gPiArCQlwbWRfcG9wdWxhdGVfa2VybmVsKE5VTEwsIGRzdF9wbWRwLCBk
c3RfcHRlcCk7DQo+ID4gKwl9DQo+ID4gKw0KPiA+ICsJZHN0X3B0ZXAgPSBwdGVfb2Zmc2V0X2tl
cm5lbChkc3RfcG1kcCwgc3RhcnQpOw0KPiA+ICsJc3JjX3B0ZXAgPSBwdGVfb2Zmc2V0X2tlcm5l
bChzcmNfcG1kcCwgc3RhcnQpOw0KPiA+ICsNCj4gPiArCWRvIHsNCj4gPiArCQlfdGVtcF9wZ3Rh
YmxlX21hcF9wdGUoZHN0X3B0ZXAsIHNyY19wdGVwLCBhZGRyLCBwcm90KTsNCj4gPiArCX0gd2hp
bGUgKGRzdF9wdGVwKyssIHNyY19wdGVwKyssIGFkZHIgKz0gUEFHRV9TSVpFLCBhZGRyIDwgZW5k
KTsNCj4gPiArDQo+ID4gKwlyZXR1cm4gMDsNCj4gPiArfQ0KPiA+ICsNCj4gPiArc3RhdGljIHVu
c2lnbmVkIGxvbmcgdGVtcF9wZ3RhYmxlX21hcF9wbWQocHVkX3QgKmRzdF9wdWRwLCBwdWRfdCAq
c3JjX3B1ZHAsDQo+ID4gKwkJCQkJICB1bnNpZ25lZCBsb25nIHN0YXJ0LCB1bnNpZ25lZCBsb25n
IGVuZCwNCj4gPiArCQkJCQkgIHBncHJvdF90IHByb3QpDQo+ID4gK3sNCj4gPiArCXVuc2lnbmVk
IGxvbmcgYWRkciA9IHN0YXJ0Ow0KPiA+ICsJdW5zaWduZWQgbG9uZyBuZXh0Ow0KPiA+ICsJdW5z
aWduZWQgbG9uZyByZXQ7DQo+ID4gKwlwbWRfdCAqc3JjX3BtZHA7DQo+ID4gKwlwbWRfdCAqZHN0
X3BtZHA7DQo+ID4gKw0KPiA+ICsJaWYgKHB1ZF9ub25lKFJFQURfT05DRSgqZHN0X3B1ZHApKSkg
ew0KPiA+ICsJCWRzdF9wbWRwID0gKHBtZF90ICopZ2V0X3NhZmVfcGFnZShHRlBfQVRPTUlDKTsN
Cj4gPiArCQlpZiAoIWRzdF9wbWRwKQ0KPiA+ICsJCQlyZXR1cm4gLUVOT01FTTsNCj4gPiArDQo+
ID4gKwkJcHVkX3BvcHVsYXRlKE5VTEwsIGRzdF9wdWRwLCBkc3RfcG1kcCk7DQo+ID4gKwl9DQo+
ID4gKw0KPiA+ICsJZHN0X3BtZHAgPSBwbWRfb2Zmc2V0KGRzdF9wdWRwLCBzdGFydCk7DQo+ID4g
KwlzcmNfcG1kcCA9IHBtZF9vZmZzZXQoc3JjX3B1ZHAsIHN0YXJ0KTsNCj4gPiArDQo+ID4gKwlk
byB7DQo+ID4gKwkJcG1kX3QgcG1kID0gUkVBRF9PTkNFKCpzcmNfcG1kcCk7DQo+ID4gKw0KPiA+
ICsJCW5leHQgPSBwbWRfYWRkcl9lbmQoYWRkciwgZW5kKTsNCj4gPiArDQo+ID4gKwkJaWYgKHBt
ZF9ub25lKHBtZCkpDQo+ID4gKwkJCWNvbnRpbnVlOw0KPiA+ICsNCj4gPiArCQlpZiAocG1kX2xl
YWYocG1kKSkgew0KPiA+ICsJCQlzZXRfcG1kKGRzdF9wbWRwLCBfX3BtZChwbWRfdmFsKHBtZCkg
fCBwZ3Byb3RfdmFsKHByb3QpKSk7DQo+ID4gKwkJfSBlbHNlIHsNCj4gPiArCQkJcmV0ID0gdGVt
cF9wZ3RhYmxlX21hcF9wdGUoZHN0X3BtZHAsIHNyY19wbWRwLCBhZGRyLCBuZXh0LCBwcm90KTsN
Cj4gPiArCQkJaWYgKHJldCkNCj4gPiArCQkJCXJldHVybiAtRU5PTUVNOw0KPiA+ICsJCX0NCj4g
PiArCX0gd2hpbGUgKGRzdF9wbWRwKyssIHNyY19wbWRwKyssIGFkZHIgPSBuZXh0LCBhZGRyICE9
IGVuZCk7DQo+ID4gKw0KPiA+ICsJcmV0dXJuIDA7DQo+ID4gK30NCj4gPiArDQo+ID4gK3N0YXRp
YyB1bnNpZ25lZCBsb25nIHRlbXBfcGd0YWJsZV9tYXBfcHVkKHA0ZF90ICpkc3RfcDRkcCwgcDRk
X3QgKnNyY19wNGRwLA0KPiA+ICsJCQkJCSAgdW5zaWduZWQgbG9uZyBzdGFydCwNCj4gPiArCQkJ
CQkgIHVuc2lnbmVkIGxvbmcgZW5kLCBwZ3Byb3RfdCBwcm90KQ0KPiA+ICt7DQo+ID4gKwl1bnNp
Z25lZCBsb25nIGFkZHIgPSBzdGFydDsNCj4gPiArCXVuc2lnbmVkIGxvbmcgbmV4dDsNCj4gPiAr
CXVuc2lnbmVkIGxvbmcgcmV0Ow0KPiA+ICsJcHVkX3QgKmRzdF9wdWRwOw0KPiA+ICsJcHVkX3Qg
KnNyY19wdWRwOw0KPiA+ICsNCj4gPiArCWlmIChwNGRfbm9uZShSRUFEX09OQ0UoKmRzdF9wNGRw
KSkpIHsNCj4gPiArCQlkc3RfcHVkcCA9IChwdWRfdCAqKWdldF9zYWZlX3BhZ2UoR0ZQX0FUT01J
Qyk7DQo+ID4gKwkJaWYgKCFkc3RfcHVkcCkNCj4gPiArCQkJcmV0dXJuIC1FTk9NRU07DQo+ID4g
Kw0KPiA+ICsJCXA0ZF9wb3B1bGF0ZShOVUxMLCBkc3RfcDRkcCwgZHN0X3B1ZHApOw0KPiA+ICsJ
fQ0KPiA+ICsNCj4gPiArCWRzdF9wdWRwID0gcHVkX29mZnNldChkc3RfcDRkcCwgc3RhcnQpOw0K
PiA+ICsJc3JjX3B1ZHAgPSBwdWRfb2Zmc2V0KHNyY19wNGRwLCBzdGFydCk7DQo+ID4gKw0KPiA+
ICsJZG8gew0KPiA+ICsJCXB1ZF90IHB1ZCA9IFJFQURfT05DRSgqc3JjX3B1ZHApOw0KPiA+ICsN
Cj4gPiArCQluZXh0ID0gcHVkX2FkZHJfZW5kKGFkZHIsIGVuZCk7DQo+ID4gKw0KPiA+ICsJCWlm
IChwdWRfbm9uZShwdWQpKQ0KPiA+ICsJCQljb250aW51ZTsNCj4gPiArDQo+ID4gKwkJaWYgKHB1
ZF9sZWFmKHB1ZCkpIHsNCj4gPiArCQkJc2V0X3B1ZChkc3RfcHVkcCwgX19wdWQocHVkX3ZhbChw
dWQpIHwgcGdwcm90X3ZhbChwcm90KSkpOw0KPiA+ICsJCX0gZWxzZSB7DQo+ID4gKwkJCXJldCA9
IHRlbXBfcGd0YWJsZV9tYXBfcG1kKGRzdF9wdWRwLCBzcmNfcHVkcCwgYWRkciwgbmV4dCwgcHJv
dCk7DQo+ID4gKwkJCWlmIChyZXQpDQo+ID4gKwkJCQlyZXR1cm4gLUVOT01FTTsNCj4gPiArCQl9
DQo+ID4gKwl9IHdoaWxlIChkc3RfcHVkcCsrLCBzcmNfcHVkcCsrLCBhZGRyID0gbmV4dCwgYWRk
ciAhPSBlbmQpOw0KPiA+ICsNCj4gPiArCXJldHVybiAwOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICtz
dGF0aWMgdW5zaWduZWQgbG9uZyB0ZW1wX3BndGFibGVfbWFwX3A0ZChwZ2RfdCAqZHN0X3BnZHAs
IHBnZF90ICpzcmNfcGdkcCwNCj4gPiArCQkJCQkgIHVuc2lnbmVkIGxvbmcgc3RhcnQsIHVuc2ln
bmVkIGxvbmcgZW5kLA0KPiA+ICsJCQkJCSAgcGdwcm90X3QgcHJvdCkNCj4gPiArew0KPiA+ICsJ
dW5zaWduZWQgbG9uZyBhZGRyID0gc3RhcnQ7DQo+IA0KPiANCj4gTml0OiB5b3UgZG9uJ3QgbmVl
ZCB0aGUgYWRkciB2YXJpYWJsZSwgeW91IGNhbiByZW5hbWUgc3RhcnQgaW50byBhZGRyDQo+IGFu
ZCBkaXJlY3RseSB3b3JrIHdpdGggaXQuDQpzdXJlLg0KPiANCj4gDQo+ID4gKwl1bnNpZ25lZCBs
b25nIG5leHQ7DQo+ID4gKwl1bnNpZ25lZCBsb25nIHJldDsNCj4gPiArCXA0ZF90ICpkc3RfcDRk
cDsNCj4gPiArCXA0ZF90ICpzcmNfcDRkcDsNCj4gPiArDQo+ID4gKwlpZiAocGdkX25vbmUoUkVB
RF9PTkNFKCpkc3RfcGdkcCkpKSB7DQo+ID4gKwkJZHN0X3A0ZHAgPSAocDRkX3QgKilnZXRfc2Fm
ZV9wYWdlKEdGUF9BVE9NSUMpOw0KPiA+ICsJCWlmICghZHN0X3A0ZHApDQo+ID4gKwkJCXJldHVy
biAtRU5PTUVNOw0KPiA+ICsNCj4gPiArCQlwZ2RfcG9wdWxhdGUoTlVMTCwgZHN0X3BnZHAsIGRz
dF9wNGRwKTsNCj4gPiArCX0NCj4gPiArDQo+ID4gKwlkc3RfcDRkcCA9IHA0ZF9vZmZzZXQoZHN0
X3BnZHAsIHN0YXJ0KTsNCj4gPiArCXNyY19wNGRwID0gcDRkX29mZnNldChzcmNfcGdkcCwgc3Rh
cnQpOw0KPiA+ICsNCj4gPiArCWRvIHsNCj4gPiArCQlwNGRfdCBwNGQgPSBSRUFEX09OQ0UoKnNy
Y19wNGRwKTsNCj4gPiArDQo+ID4gKwkJbmV4dCA9IHA0ZF9hZGRyX2VuZChhZGRyLCBlbmQpOw0K
PiA+ICsNCj4gPiArCQlpZiAocDRkX25vbmUoUkVBRF9PTkNFKCpzcmNfcDRkcCkpKQ0KPiANCj4g
DQo+IFlvdSBzaG91bGQgdXNlIHA0ZCBoZXJlOiBwNGRfbm9uZShwNGQpDQpzdXJlDQo+IA0KPiAN
Cj4gPiArCQkJY29udGludWU7DQo+ID4gKw0KPiA+ICsJCWlmIChwNGRfbGVhZihwNGQpKSB7DQo+
ID4gKwkJCXNldF9wNGQoZHN0X3A0ZHAsIF9fcDRkKHA0ZF92YWwocDRkKSB8IHBncHJvdF92YWwo
cHJvdCkpKTsNCj4gDQo+IA0KPiBUaGUgInwgcGdwcm90X3ZhbChwcm90KSIgaGFwcGVucyB0byB3
b3JrIGJlY2F1c2UgUEFHRV9LRVJORUwgd2lsbCBhZGQNCj4gdGhlIFBBR0VfV1JJVEUgYml0OiBJ
J2QgcmF0aGVyIG1ha2UgaXQgbW9yZSBjbGVhciBieSBleHBsaWNpdGx5IGFkZA0KPiBQQUdFX1dS
SVRFLg0Kc3VyZSwgdGhpcyBjYW4gYmUgZG9uZS4NCj4gDQo+IA0KPiA+ICsJCX0gZWxzZSB7DQo+
ID4gKwkJCXJldCA9IHRlbXBfcGd0YWJsZV9tYXBfcHVkKGRzdF9wNGRwLCBzcmNfcDRkcCwgYWRk
ciwgbmV4dCwgcHJvdCk7DQo+ID4gKwkJCWlmIChyZXQpDQo+ID4gKwkJCQlyZXR1cm4gLUVOT01F
TTsNCj4gPiArCQl9DQo+ID4gKwl9IHdoaWxlIChkc3RfcDRkcCsrLCBzcmNfcDRkcCsrLCBhZGRy
ID0gbmV4dCwgYWRkciAhPSBlbmQpOw0KPiA+ICsNCj4gPiArCXJldHVybiAwOw0KPiA+ICt9DQo+
ID4gKw0KPiA+ICtzdGF0aWMgdW5zaWduZWQgbG9uZyB0ZW1wX3BndGFibGVfbWFwcGluZyhwZ2Rf
dCAqcGdkcCkNCj4gPiArew0KPiA+ICsJdW5zaWduZWQgbG9uZyBlbmQgPSAodW5zaWduZWQgbG9u
ZylwZm5fdG9fdmlydChtYXhfbG93X3Bmbik7DQo+ID4gKwl1bnNpZ25lZCBsb25nIGFkZHIgPSBQ
QUdFX09GRlNFVDsNCj4gPiArCXBnZF90ICpkc3RfcGdkcCA9IHBnZF9vZmZzZXRfcGdkKHBnZHAs
IGFkZHIpOw0KPiA+ICsJcGdkX3QgKnNyY19wZ2RwID0gcGdkX29mZnNldF9rKGFkZHIpOw0KPiA+
ICsJdW5zaWduZWQgbG9uZyBuZXh0Ow0KPiA+ICsNCj4gPiArCWRvIHsNCj4gPiArCQluZXh0ID0g
cGdkX2FkZHJfZW5kKGFkZHIsIGVuZCk7DQo+ID4gKwkJaWYgKHBnZF9ub25lKFJFQURfT05DRSgq
c3JjX3BnZHApKSkNCj4gPiArCQkJY29udGludWU7DQo+ID4gKw0KPiANCj4gDQo+IFdlIGFkZGVk
IHRoZSBwZ2RfbGVhZiB0ZXN0IGluIGtlcm5lbF9wYWdlX3ByZXNlbnQsIGxldCdzIGFkZCBpdCBo
ZXJlIHRvby4NCnN1cmUuDQo+IA0KPiANCj4gPiArCQlpZiAodGVtcF9wZ3RhYmxlX21hcF9wNGQo
ZHN0X3BnZHAsIHNyY19wZ2RwLCBhZGRyLCBuZXh0LCBQQUdFX0tFUk5FTCkpDQo+ID4gKwkJCXJl
dHVybiAtRU5PTUVNOw0KPiA+ICsJfSB3aGlsZSAoZHN0X3BnZHArKywgc3JjX3BnZHArKywgYWRk
ciA9IG5leHQsIGFkZHIgIT0gZW5kKTsNCj4gPiArDQo+ID4gKwlyZXR1cm4gMDsNCj4gPiArfQ0K
PiA+ICsNCj4gPiArc3RhdGljIHVuc2lnbmVkIGxvbmcgdGVtcF9wZ3RhYmxlX3RleHRfbWFwcGlu
ZyhwZ2RfdCAqcGdkcCwgdW5zaWduZWQgbG9uZyBhZGRyKQ0KPiA+ICt7DQo+ID4gKwlwZ2RfdCAq
ZHN0X3BnZHAgPSBwZ2Rfb2Zmc2V0X3BnZChwZ2RwLCBhZGRyKTsNCj4gPiArCXBnZF90ICpzcmNf
cGdkcCA9IHBnZF9vZmZzZXRfayhhZGRyKTsNCj4gPiArDQo+ID4gKwlpZiAocGdkX25vbmUoUkVB
RF9PTkNFKCpzcmNfcGdkcCkpKQ0KPiA+ICsJCXJldHVybiAtRUZBVUxUOw0KPiA+ICsNCj4gPiAr
CWlmICh0ZW1wX3BndGFibGVfbWFwX3A0ZChkc3RfcGdkcCwgc3JjX3BnZHAsIGFkZHIsIGFkZHIs
IFBBR0VfS0VSTkVMX0VYRUMpKQ0KPiA+ICsJCXJldHVybiAtRU5PTUVNOw0KPiA+ICsNCj4gPiAr
CXJldHVybiAwOw0KPiA+ICt9DQo+IA0KPiANCj4gT2sgc28gaWYgd2UgZmFsbCBpbnRvIGEgaHVn
ZSBtYXBwaW5nLCB5b3UgYWRkIHRoZSBleGVjIHBlcm1pc3Npb24gdG8gdGhlDQo+IHdob2xlIHJh
bmdlLCB3aGljaCBjb3VsZCBlYXNpbHkgYmUgMUdCLiBJIHRoaW5rIHRoYXQgZWl0aGVyIHdlIGNh
biBhdm9pZA0KPiB0aGlzIHN0ZXAgYnkgbWFwcGluZyB0aGUgd2hvbGUgbGluZWFyIG1hcHBpbmcg
YXMgZXhlY3V0YWJsZSwgb3Igd2UNCj4gYWN0dWFsbHkgdXNlIGFub3RoZXIgcGdkIGVudHJ5IGZv
ciB0aGlzIHBhZ2UgdGhhdCBpcyBub3QgaW4gdGhlIGxpbmVhcg0KPiBtYXBwaW5nLiBUaGUgbGF0
dGVyIHNlZW1zIGNsZWFuZXIsIHdoYXQgZG8geW91IHRoaW5rPw0Kd2UgY2FuIG1hcCB0aGUgd2hv
bGUgbGluZWFyIGFkZHJlc3MgdG8gd3JpdGFibGUgJiBleGVjdXRhYmxlLCBieSBkb2luZyB0aGlz
LCB3ZSBjYW4gYXZvaWQgdGhlIHJlbWFwcGluZyBhdCB0aGUgbGluZWFyIG1hcCBhZ2Fpbi4NCndl
IHN0aWxsIG5lZWQgdG8gdXNlIHRoZSBzYW1lIHBnZCBlbnRyeSBmb3IgdGhlIG5vbi1saW5lYXIg
bWFwcGluZyBqdXN0IGxpa2UgaG93IGl0IGRpZCBhdCB0aGUgc3dhcHBlcl9wZ19kaXIgKGxpbmVh
ciBhbmQgbm9uLWxpbmVhciBhZGRyIGFyZSB3aXRoaW4gdGhlIHJhbmdlIHN1cHBvcnRlZCBieSB0
aGUgcGdkKS4NCj4gDQo+IA0KPiA+ICsNCj4gPiArc3RhdGljIHVuc2lnbmVkIGxvbmcgcmVsb2Nh
dGVfcmVzdG9yZV9jb2RlKHZvaWQpDQo+ID4gK3sNCj4gPiArCXVuc2lnbmVkIGxvbmcgcmV0Ow0K
PiA+ICsJdm9pZCAqcGFnZSA9ICh2b2lkICopZ2V0X3NhZmVfcGFnZShHRlBfQVRPTUlDKTsNCj4g
PiArDQo+ID4gKwlpZiAoIXBhZ2UpDQo+ID4gKwkJcmV0dXJuIC1FTk9NRU07DQo+ID4gKw0KPiA+
ICsJY29weV9wYWdlKHBhZ2UsIGhpYmVybmF0ZV9jb3JlX3Jlc3RvcmVfY29kZSk7DQo+ID4gKw0K
PiA+ICsJLyogTWFrZSB0aGUgcGFnZSBjb250YWluaW5nIHRoZSByZWxvY2F0ZWQgY29kZSBleGVj
dXRhYmxlLiAqLw0KPiA+ICsJc2V0X21lbW9yeV94KCh1bnNpZ25lZCBsb25nKXBhZ2UsIDEpOw0K
PiA+ICsNCj4gPiArCXJldCA9IHRlbXBfcGd0YWJsZV90ZXh0X21hcHBpbmcocmVzdW1lX3BnX2Rp
ciwgKHVuc2lnbmVkIGxvbmcpcGFnZSk7DQo+ID4gKwlpZiAocmV0KQ0KPiA+ICsJCXJldHVybiBy
ZXQ7DQo+ID4gKw0KPiA+ICsJcmV0dXJuICh1bnNpZ25lZCBsb25nKXBhZ2U7DQo+ID4gK30NCj4g
PiArDQo+ID4gK2ludCBzd3N1c3BfYXJjaF9yZXN1bWUodm9pZCkNCj4gPiArew0KPiA+ICsJdW5z
aWduZWQgbG9uZyByZXQ7DQo+ID4gKw0KPiA+ICsJLyoNCj4gPiArCSAqIE1lbW9yeSBhbGxvY2F0
ZWQgYnkgZ2V0X3NhZmVfcGFnZSgpIHdpbGwgYmUgZGVhbHQgd2l0aCBieSB0aGUgaGliZXJuYXRp
b24gY29yZSwNCj4gPiArCSAqIHdlIGRvbid0IG5lZWQgdG8gZnJlZSBpdCBoZXJlLg0KPiA+ICsJ
ICovDQo+ID4gKwlyZXN1bWVfcGdfZGlyID0gKHBnZF90ICopZ2V0X3NhZmVfcGFnZShHRlBfQVRP
TUlDKTsNCj4gPiArCWlmICghcmVzdW1lX3BnX2RpcikNCj4gPiArCQlyZXR1cm4gLUVOT01FTTsN
Cj4gPiArDQo+ID4gKwkvKg0KPiA+ICsJICogVGhlIHBhZ2VzIG5lZWQgdG8gYmUgd3JpdGFibGUg
d2hlbiByZXN0b3JpbmcgdGhlIGltYWdlLg0KPiA+ICsJICogQ3JlYXRlIGEgc2Vjb25kIGNvcHkg
b2YgcGFnZSB0YWJsZSBqdXN0IGZvciB0aGUgbGluZWFyIG1hcC4NCj4gPiArCSAqIFVzZSB0aGlz
IHRlbXBvcmFyeSBwYWdlIHRhYmxlIHRvIHJlc3RvcmUgdGhlIGltYWdlLg0KPiA+ICsJICovDQo+
ID4gKwlyZXQgPSB0ZW1wX3BndGFibGVfbWFwcGluZyhyZXN1bWVfcGdfZGlyKTsNCj4gPiArCWlm
IChyZXQpDQo+ID4gKwkJcmV0dXJuIChpbnQpcmV0Ow0KPiANCj4gDQo+IFRoZSB0ZW1wX3BndGFi
bGUqIGZ1bmN0aW9ucyBzaG91bGQgcmV0dXJuIGFuIGludCB0byBhdm9pZCB0aGlzIGNhc3QuDQo+
IA0KPiANCj4gPiArDQo+ID4gKwkvKiBNb3ZlIHRoZSByZXN0b3JlIGNvZGUgdG8gYSBuZXcgcGFn
ZSBzbyB0aGF0IGl0IGRvZXNuJ3QgZ2V0IG92ZXJ3cml0dGVuIGJ5IGl0c2VsZi4gKi8NCj4gPiAr
CXJlbG9jYXRlZF9yZXN0b3JlX2NvZGUgPSByZWxvY2F0ZV9yZXN0b3JlX2NvZGUoKTsNCj4gPiAr
CWlmIChyZWxvY2F0ZWRfcmVzdG9yZV9jb2RlID09IC1FTk9NRU0pDQo+ID4gKwkJcmV0dXJuIC1F
Tk9NRU07DQo+ID4gKw0KPiA+ICsJLyoNCj4gPiArCSAqIE1hcCB0aGUgX19oaWJlcm5hdGVfY3B1
X3Jlc3VtZSgpIGFkZHJlc3MgdG8gdGhlIHRlbXBvcmFyeSBwYWdlIHRhYmxlIHNvIHRoYXQgdGhl
DQo+ID4gKwkgKiByZXN0b3JlIGNvZGUgY2FuIGp1bXBzIHRvIGl0IGFmdGVyIGZpbmlzaGVkIHJl
c3RvcmUgdGhlIGltYWdlLiBUaGUgbmV4dCBleGVjdXRpb24NCj4gPiArCSAqIGNvZGUgZG9lc24n
dCBmaW5kIGl0c2VsZiBpbiBhIGRpZmZlcmVudCBhZGRyZXNzIHNwYWNlIGFmdGVyIHN3aXRjaGlu
ZyBvdmVyIHRvIHRoZQ0KPiA+ICsJICogb3JpZ2luYWwgcGFnZSB0YWJsZSB1c2VkIGJ5IHRoZSBo
aWJlcm5hdGVkIGltYWdlLg0KPiA+ICsJICovDQo+ID4gKwlyZXQgPSB0ZW1wX3BndGFibGVfdGV4
dF9tYXBwaW5nKHJlc3VtZV9wZ19kaXIsICh1bnNpZ25lZCBsb25nKXJlc3VtZV9oZHIucmVzdG9y
ZV9jcHVfYWRkcik7DQo+ID4gKwlpZiAocmV0KQ0KPiA+ICsJCXJldHVybiByZXQ7DQo+ID4gKw0K
PiA+ICsJaGliZXJuYXRlX3Jlc3RvcmVfaW1hZ2UocmVzdW1lX2hkci5zYXZlZF9zYXRwLCAoUEZO
X0RPV04oX19wYShyZXN1bWVfcGdfZGlyKSkgfCBzYXRwX21vZGUpLA0KPiA+ICsJCQkJcmVzdW1l
X2hkci5yZXN0b3JlX2NwdV9hZGRyKTsNCj4gPiArDQo+ID4gKwlyZXR1cm4gMDsNCj4gPiArfQ0K
PiA+ICsNCj4gPiArI2lmZGVmIENPTkZJR19QTV9TTEVFUF9TTVANCj4gPiAraW50IGhpYmVybmF0
ZV9yZXN1bWVfbm9uYm9vdF9jcHVfZGlzYWJsZSh2b2lkKQ0KPiA+ICt7DQo+ID4gKwlpZiAoc2xl
ZXBfY3B1IDwgMCkgew0KPiA+ICsJCXByX2VycigiRmFpbGluZyB0byByZXN1bWUgZnJvbSBoaWJl
cm5hdGUgb24gYW4gdW5rbm93biBDUFVcbiIpOw0KPiA+ICsJCXJldHVybiAtRU5PREVWOw0KPiA+
ICsJfQ0KPiA+ICsNCj4gPiArCXJldHVybiBmcmVlemVfc2Vjb25kYXJ5X2NwdXMoc2xlZXBfY3B1
KTsNCj4gPiArfQ0KPiA+ICsjZW5kaWYNCj4gPiArDQo+ID4gK3N0YXRpYyBpbnQgX19pbml0IHJp
c2N2X2hpYmVybmF0ZV9pbml0KHZvaWQpDQo+ID4gK3sNCj4gPiArCWhpYmVybmF0ZV9jcHVfY29u
dGV4dCA9IGt6YWxsb2Moc2l6ZW9mKCpoaWJlcm5hdGVfY3B1X2NvbnRleHQpLCBHRlBfS0VSTkVM
KTsNCj4gPiArDQo+ID4gKwlpZiAoV0FSTl9PTighaGliZXJuYXRlX2NwdV9jb250ZXh0KSkNCj4g
PiArCQlyZXR1cm4gLUVOT01FTTsNCj4gPiArDQo+ID4gKwlyZXR1cm4gMDsNCj4gPiArfQ0KPiA+
ICsNCj4gPiArZWFybHlfaW5pdGNhbGwocmlzY3ZfaGliZXJuYXRlX2luaXQpOw0KPiANCj4gDQo+
IE92ZXJhbGwsIGl0IGlzIG5vdyBuaWNlciB3aXRoIHRoZSB0aGUgcHJvcGVyIHBhZ2UgdGFibGUg
d2FsazogYnV0IHdlIGNhbg0KPiBub3cgc2VlIHRoYXQgdGhlIGNvZGUgaXMgZXhhY3RseSB0aGUg
c2FtZSBhcyBhcm02NCwgd2hhdCBwcmV2ZW50cyB1cw0KPiBmcm9tIG1lcmdpbmcgYm90aCBzb21l
d2hlcmUgaW4gbW0vPw0KMS4gbG93IGxldmVsIHBhZ2UgdGFibGUgYml0IGRlZmluaXRpb24gbm90
IHRoZSBzYW1lDQoyLiBOZWVkIHRvIHJlZmFjdG9yIGNvZGUgZm9yIGJvdGggcmlzY3YgYW5kIGFy
bTY0DQozLiBOZWVkIHRvIHZlcmlmeSB0aGUgc29sdXRpb24gZm9yIGJvdGggcmlzY3YgYW5kIGFy
bTY0IHBsYXRmb3JtcyAobmVlZCBzb21lb25lIHdobyBleHBlcnRpc2Ugb24gYXJtNjQpDQo0LiBN
aWdodCBuZWVkIHRvIGV4dGVuZCB0aGUgZnVuY3Rpb24gdG8gc3VwcG9ydCBvdGhlciBhcmNoDQo1
LiBPdmVyYWxsLCBpdCBpcyBkby1hYmxlIGJ1dCB0aGUgZWZmb3J0IHRvIHN1cHBvcnQgdGhlIGFi
b3ZlIG1hdHRlcnMgYXJlIGh1Z2UuDQoNCj4gDQoNCg==
