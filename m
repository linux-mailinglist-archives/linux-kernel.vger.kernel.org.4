Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id DC3EA679319
	for <lists+linux-kernel@lfdr.de>; Tue, 24 Jan 2023 09:29:05 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S232083AbjAXI3D (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Tue, 24 Jan 2023 03:29:03 -0500
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:51690 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S229802AbjAXI3B (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Tue, 24 Jan 2023 03:29:01 -0500
Received: from sender4-op-o14.zoho.com (sender4-op-o14.zoho.com [136.143.188.14])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 9A0CB1D910
        for <linux-kernel@vger.kernel.org>; Tue, 24 Jan 2023 00:29:00 -0800 (PST)
ARC-Seal: i=1; a=rsa-sha256; t=1674548910; cv=none; 
        d=zohomail.com; s=zohoarc; 
        b=QHFReRkmBWX8T9xGFbXxqjc+wsjIYS3/NFJtfUCyADYGhI4cIrPKrbm6K/1QwC4bMSqqIfucp3esS3GPRbyku0Be+0cGVTuQ8//RNG4mctgOpWk1bAYrBp+LPFla7Uybfkr6m7SaAAf2JuoVqKW83SoDpiwHmcHW82j5iixGM0Q=
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=zohomail.com; s=zohoarc; 
        t=1674548910; h=Content-Type:Cc:Date:From:In-Reply-To:MIME-Version:Message-ID:References:Subject:To; 
        bh=/wWLoarRx6cL7WoNY4KtJ9FgX12QKISq9FRlNZnLDdE=; 
        b=Nda9GzZWpMBQde/Sph+5tItwV/7CkhbIXtxpjZzZ1wSpo4NWg+N+vWyEfV3gezAi0St6bb+t1B/bKobQGjBcmK6fUmFFRdfRMyec/h/kLifkvOmB5jgRlrX2EGyR2gXhX2WOoVxcDxzBfGh5dg2gWxAoIYbsAnGlkJQPTCspmb4=
ARC-Authentication-Results: i=1; mx.zohomail.com;
        dkim=pass  header.i=linux.beauty;
        spf=pass  smtp.mailfrom=me@linux.beauty;
        dmarc=pass header.from=<me@linux.beauty>
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; t=1674548910;
        s=zmail; d=linux.beauty; i=me@linux.beauty;
        h=Date:Date:Message-ID:From:From:To:To:Cc:Cc:Subject:Subject:In-Reply-To:References:MIME-Version:Content-Type:Message-Id:Reply-To;
        bh=/wWLoarRx6cL7WoNY4KtJ9FgX12QKISq9FRlNZnLDdE=;
        b=mZuO+LsNcyHEY0dm8DIcBDO0rk3HIgwXP9n8ImjXFUnZr4qD7QmBZqntgHA1j6Xo
        g0sfT0Ql4IY/0zqD6IVsixFQRK4Vj8XxC/nTXZYioi4+e95ND8eliqbcdt2o7BAE0M0
        UvvQwIGmD3uGYgFWzLW0e/kIMl5KNCfPUrt6LybM=
Received: from lchen-xiaoxin.linux.beauty (122.96.40.54 [122.96.40.54]) by mx.zohomail.com
        with SMTPS id 1674548908211418.6973874724298; Tue, 24 Jan 2023 00:28:28 -0800 (PST)
Date:   Tue, 24 Jan 2023 16:27:43 +0800
Message-ID: <87zga8gww0.wl-me@linux.beauty>
From:   Li Chen <me@linux.beauty>
To:     <Conor.Dooley@microchip.com>
Cc:     <lchen@ambarella.com>, <arnd@arndb.de>, <heiko@sntech.de>,
        <lkundrak@v3.sk>, <robert.jarzmik@free.fr>, <sven@svenpeter.dev>,
        <zhuyinbo@loongson.cn>, <briannorris@chromium.org>,
        <hasegawa-hitomi@fujitsu.com>, <linux-kernel@vger.kernel.org>,
        <linux-arm-kernel@lists.infradead.org>
Subject: Re: [PATCH 06/15] soc: add Ambarella driver
In-Reply-To: <bc50c6c2-bdfb-0b6c-0f89-dc8cfe845202@microchip.com>
References: <20230123073305.149940-1-lchen@ambarella.com>
        <20230123073305.149940-7-lchen@ambarella.com>
        <bc50c6c2-bdfb-0b6c-0f89-dc8cfe845202@microchip.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI-EPG/1.14.7 (Harue)
 FLIM-LB/1.14.9 (=?ISO-8859-4?Q?Goj=F2?=) APEL-LB/10.8 EasyPG/1.0.0
 Emacs/28.2 (x86_64-pc-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI-EPG 1.14.7 - "Harue")
Content-Type: text/plain; charset=US-ASCII
X-ZohoMailClient: External
X-Spam-Status: No, score=-2.1 required=5.0 tests=BAYES_00,DKIM_SIGNED,
        DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF,RCVD_IN_DNSWL_NONE,
        RCVD_IN_MSPIKE_H2,SPF_HELO_NONE,SPF_PASS autolearn=ham
        autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On Mon, 23 Jan 2023 19:48:42 +0800,

Hi Conor.Dooley

<Conor.Dooley@microchip.com> wrote:
>
> Hey Li Chen,
>
> Since you've already got a bunch of other comments, I have
> two minor ones for you.
>
> On 23/01/2023 07:32, Li Chen wrote:
> >
> > This driver add soc_id support for Ambarella,
> > which is stored inside "cpuid" AXI address mapping.
> >
> > Also provide sys_config(POC, aka power on configuration)
> > for other drivers.
> >
> > Signed-off-by: Li Chen <lchen@ambarella.com>
> > Change-Id: I4869a3497366ac7779e792835f8e0309239036a8
> > ---
>
> > diff --git a/drivers/soc/Makefile b/drivers/soc/Makefile
> > index fff513bd522d..e3e270aa32a4 100644
> > --- a/drivers/soc/Makefile
> > +++ b/drivers/soc/Makefile
> > @@ -8,6 +8,7 @@ obj-y                           += apple/
> >   obj-y                          += aspeed/
> >   obj-$(CONFIG_ARCH_AT91)                += atmel/
> >   obj-y                          += bcm/
> > +obj-$(CONFIG_ARCH_AMBARELLA)   += ambarella/
> >   obj-$(CONFIG_SOC_CANAAN)       += canaan/
>
> If you could follow the existing (by directory) alphabetical
> order that'd be great.

Well noted. I will fix it in v2.

> >   obj-$(CONFIG_ARCH_DOVE)                += dove/
> >   obj-$(CONFIG_MACH_DOVE)                += dove/
> > diff --git a/drivers/soc/ambarella/Makefile b/drivers/soc/ambarella/Makefile
> > new file mode 100644
> > index 000000000000..384276c046ca
> > --- /dev/null
> > +++ b/drivers/soc/ambarella/Makefile
> > @@ -0,0 +1,3 @@
> > +# SPDX-License-Identifier: GPL-2.0-only
> > +
> > +obj-$(CONFIG_ARCH_AMBARELLA) += soc.o
>
> The subdirectory is already gated by this symbol, so is there much point
> gating it on the same one again?

Yeah, it lookgs kind of redundant now, but I will upstream other drivers after
this series get merged, which are not gated by this symbol.

Regards,
Li
