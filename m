Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id 6BE696699B1
	for <lists+linux-kernel@lfdr.de>; Fri, 13 Jan 2023 15:14:26 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S233824AbjAMOOR (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Fri, 13 Jan 2023 09:14:17 -0500
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:38752 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S233972AbjAMONS (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 13 Jan 2023 09:13:18 -0500
Received: from smtp-out1.suse.de (smtp-out1.suse.de [IPv6:2001:67c:2178:6::1c])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 4CD1FF7D
        for <linux-kernel@vger.kernel.org>; Fri, 13 Jan 2023 06:09:43 -0800 (PST)
Received: from imap2.suse-dmz.suse.de (imap2.suse-dmz.suse.de [192.168.254.74])
        (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
         key-exchange X25519 server-signature ECDSA (P-521) server-digest SHA512)
        (No client certificate requested)
        by smtp-out1.suse.de (Postfix) with ESMTPS id 27C3B22002;
        Fri, 13 Jan 2023 14:09:42 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=suse.de; s=susede2_rsa;
        t=1673618982; h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
         mime-version:mime-version:content-type:content-type:
         content-transfer-encoding:content-transfer-encoding;
        bh=aw+i+0N3xJo8PRrboTSe0RD/wcTU9m5XU+tN4pnbGVI=;
        b=wO57rnt4Ykb05VD21vmaikqhLFih14jJaHACTytcRv+jm0SxqYWXGRo2m3JSlwaPK6vaUR
        EHy6bARqGQ/dOEEANW1VY2/pIbnsaZh1MQD04+pWACENFAWWRgDlv0bTKO2fFIviPDkW9z
        GxNW5wxtNAj1lahP8Iy5cdbHYzRHEEw=
DKIM-Signature: v=1; a=ed25519-sha256; c=relaxed/relaxed; d=suse.de;
        s=susede2_ed25519; t=1673618982;
        h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
         mime-version:mime-version:content-type:content-type:
         content-transfer-encoding:content-transfer-encoding;
        bh=aw+i+0N3xJo8PRrboTSe0RD/wcTU9m5XU+tN4pnbGVI=;
        b=+r42wn9q+rXeC21v0dtrbodPlrcJMtZBQlNx0nBJTcGv8z+VrSr/rzbBkurA/6oT82+n6F
        KMDAW49YyvxW/gBQ==
Received: from imap2.suse-dmz.suse.de (imap2.suse-dmz.suse.de [192.168.254.74])
        (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
         key-exchange X25519 server-signature ECDSA (P-521) server-digest SHA512)
        (No client certificate requested)
        by imap2.suse-dmz.suse.de (Postfix) with ESMTPS id 0DCE21358A;
        Fri, 13 Jan 2023 14:09:42 +0000 (UTC)
Received: from dovecot-director2.suse.de ([192.168.254.65])
        by imap2.suse-dmz.suse.de with ESMTPSA
        id GyqHAiZmwWOkDwAAMHmgww
        (envelope-from <tiwai@suse.de>); Fri, 13 Jan 2023 14:09:42 +0000
Date:   Fri, 13 Jan 2023 15:09:41 +0100
Message-ID: <87fsce34re.wl-tiwai@suse.de>
From:   Takashi Iwai <tiwai@suse.de>
To:     Linus Torvalds <torvalds@linux-foundation.org>
Cc:     Linux Kernel Mailing List <linux-kernel@vger.kernel.org>
Subject: [GIT PULL] sound updates for 6.2-rc4
User-Agent: Wanderlust/2.15.9 (Almost Unreal) Emacs/27.2 Mule/6.0
MIME-Version: 1.0 (generated by SEMI-EPG 1.14.7 - "Harue")
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Status: No, score=-4.4 required=5.0 tests=BAYES_00,DKIM_SIGNED,
        DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF,RCVD_IN_DNSWL_MED,SPF_HELO_NONE,
        SPF_PASS autolearn=ham autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

Linus,

please pull sound fixes for v6.2-rc4 from:

  git://git.kernel.org/pub/scm/linux/kernel/git/tiwai/sound.git tags/sound-6.2-rc4

The topmost commit is 56b88b50565cd8b946a2d00b0c83927b7ebb055e

----------------------------------------------------------------

sound fixes for 6.2-rc4

This became a slightly big update, but it's more or less expected,
as the first batch after holidays.

All changes (but for the last two last-minute fixes) have been
stewed in linux-next long enough, so it's fairly safe to take.

- PCM UAF fix in 32bit compat layer
- ASoC board-specific fixes for Intel, AMD, Medathek, Qualcomm
- SOF power management fixes
- ASoC Intel link failure fixes
- A series of fixes for USB-audio regressions
- CS35L41 HD-audio codec regression fixes
- HD-audio device-specific fixes / quirks

Note that one SPI patch has been taken in ASoC subtree mistakenly,
and the same fix is found in spi tree, but it should be OK to apply.

----------------------------------------------------------------

Adrian Chan (1):
      ALSA: hda/hdmi: Add a HP device 0x8715 to force connect list

Ajye Huang (1):
      ASoC: Intel: sof_nau8825: add variant with nau8318 amplifier.

Allen-KH Cheng (1):
      ASoC: mediatek: mt8186: Add machine support for max98357a

Aniol Martí (1):
      ASoC: amd: yc: Add ASUS M5402RA into DMI table

Arnd Bergmann (2):
      ASoC: Intel: fix sof-nau8825 link failure
      ASoC: Intel: sof-nau8825: fix module alias overflow

Brian Norris (1):
      ASoC: qcom: lpass-cpu: Fix fallback SD line index handling

Chancel Liu (1):
      ASoC: fsl_micfil: Correct the number of steps on SX controls

ChiYuan Huang (1):
      ASoC: rt9120: Make dev PM runtime bind AsoC component PM

Chris Chiu (1):
      ALSA: hda - Enable headset mic on another Dell laptop with ALC3254

Clement Lecigne (1):
      ALSA: pcm: Move rwsem lock inside snd_ctl_elem_read to prevent UAF

Curtis Malainey (1):
      ASoC: SOF: Add FW state to debugfs

Emanuele Ghidoli (1):
      ASoC: wm8904: fix wrong outputs volume after power reactivation

Gongjun Song (2):
      ASoC: Intel: soc-acpi: add configuration for variant of 0C40 product
      ASoC: Intel: soc-acpi: add configuration for variant of 0C11 product

Jaroslav Kysela (3):
      ALSA: usb-audio: Always initialize fixed_rate in snd_usb_find_implicit_fb_sync_format()
      ALSA: control-led: use strscpy in set_led_id()
      ALSA: usb-audio: Fix possible NULL pointer dereference in snd_usb_pcm_has_fixed_rate()

Jeremy Szu (1):
      ALSA: hda/realtek: fix mute/micmute LEDs don't work for a HP platform

Krzysztof Kozlowski (2):
      ASoC: dt-bindings: qcom,lpass-wsa-macro: correct clocks on SM8250
      ASoC: dt-bindings: qcom,lpass-tx-macro: correct clocks on SC7280

Luka Guzenko (1):
      ALSA: hda/realtek: Enable mute/micmute LEDs on HP Spectre x360 13-aw0xxx

Mark Brown (2):
      ASoC: fsl_ssi: Rename AC'97 streams to avoid collisions with AC'97 CODEC
      ASoC: fsl-asoc-card: Fix naming of AC'97 CODEC widgets

Mars Chen (1):
      ASoC: support machine driver with max98360

Ranjani Sridharan (2):
      ASoC: SOF: pm: Set target state earlier
      ASoC: SOF: pm: Always tear down pipelines before DSP suspend

Ricardo Ribalda (1):
      spi: mediatek: Enable irq before the spi registration

Stephan Gerhold (1):
      ASoC: qcom: Fix building APQ8016 machine driver without SOUNDWIRE

Takashi Iwai (6):
      ALSA: usb-audio: Make sure to stop endpoints before closing EPs
      ALSA: usb-audio: Relax hw constraints for implicit fb sync
      ALSA: usb-audio: More refactoring of hw constraint rules
      Revert "ALSA: usb-audio: Drop superfluous interface setup at parsing"
      ALSA: hda: cs35l41: Don't return -EINVAL from system suspend/resume
      ALSA: hda: cs35l41: Check runtime suspend capability at runtime_idle

Wim Van Boven (1):
      ASoC: amd: yc: Add Razer Blade 14 2022 into DMI table

Yuchi Yang (1):
      ALSA: hda/realtek - Turn on power early

tongjian (2):
      ASoC: mediatek: mt8186: support rt5682s_max98360
      ASoC: dt-bindings: mt8186-mt6366: add new compatible for max98360a

---
 .../sound/mt8186-mt6366-rt1019-rt5682s.yaml        |   1 +
 .../bindings/sound/qcom,lpass-tx-macro.yaml        |   4 +-
 .../bindings/sound/qcom,lpass-wsa-macro.yaml       |  58 +++++-
 sound/core/control.c                               |  24 ++-
 sound/core/control_led.c                           |   5 +-
 sound/pci/hda/cs35l41_hda.c                        |  20 +-
 sound/pci/hda/patch_hdmi.c                         |   1 +
 sound/pci/hda/patch_realtek.c                      |  55 +++--
 sound/soc/amd/yc/acp6x-mach.c                      |  14 ++
 sound/soc/codecs/rt9120.c                          |  12 ++
 sound/soc/codecs/wm8904.c                          |   7 +
 sound/soc/fsl/fsl-asoc-card.c                      |   8 +-
 sound/soc/fsl/fsl_micfil.c                         |  16 +-
 sound/soc/fsl/fsl_ssi.c                            |   4 +-
 sound/soc/intel/boards/Kconfig                     |   2 +
 sound/soc/intel/boards/sof_nau8825.c               |  31 ++-
 sound/soc/intel/common/soc-acpi-intel-adl-match.c  |  20 +-
 sound/soc/intel/common/soc-acpi-intel-rpl-match.c  |  50 +++++
 sound/soc/mediatek/Kconfig                         |   4 +-
 .../mediatek/mt8186/mt8186-mt6366-rt1019-rt5682s.c |  22 +-
 sound/soc/qcom/Kconfig                             |  21 +-
 sound/soc/qcom/Makefile                            |   2 +
 sound/soc/qcom/common.c                            | 114 -----------
 sound/soc/qcom/common.h                            |  10 -
 sound/soc/qcom/lpass-cpu.c                         |   5 +-
 sound/soc/qcom/sc8280xp.c                          |   1 +
 sound/soc/qcom/sdw.c                               | 123 ++++++++++++
 sound/soc/qcom/sdw.h                               |  18 ++
 sound/soc/qcom/sm8250.c                            |   1 +
 sound/soc/sof/debug.c                              |   4 +-
 sound/soc/sof/pm.c                                 |   9 +-
 sound/usb/implicit.c                               |   3 +-
 sound/usb/pcm.c                                    | 222 +++++++++++++--------
 sound/usb/stream.c                                 |   6 +
 34 files changed, 604 insertions(+), 293 deletions(-)
 create mode 100644 sound/soc/qcom/sdw.c
 create mode 100644 sound/soc/qcom/sdw.h

