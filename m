Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id 90F84737C66
	for <lists+linux-kernel@lfdr.de>; Wed, 21 Jun 2023 09:36:46 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S231300AbjFUHXb (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Wed, 21 Jun 2023 03:23:31 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:55184 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S231252AbjFUHX2 (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Wed, 21 Jun 2023 03:23:28 -0400
Received: from smtp-out1.suse.de (smtp-out1.suse.de [IPv6:2001:67c:2178:6::1c])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 2900E1A8
        for <linux-kernel@vger.kernel.org>; Wed, 21 Jun 2023 00:23:23 -0700 (PDT)
Received: from imap2.suse-dmz.suse.de (imap2.suse-dmz.suse.de [192.168.254.74])
        (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
         key-exchange X25519 server-signature ECDSA (P-521) server-digest SHA512)
        (No client certificate requested)
        by smtp-out1.suse.de (Postfix) with ESMTPS id AE566218F4;
        Wed, 21 Jun 2023 07:23:21 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=suse.de; s=susede2_rsa;
        t=1687332201; h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
         mime-version:mime-version:content-type:content-type:
         in-reply-to:in-reply-to:references:references;
        bh=1wbMhhbufJTOl/amXMPgYbaXbwGi5agLiy7Y+ZVX+hw=;
        b=qDMHO1FlA1Hb8RLxMSWaYFS6x40J8ERkkSu0MO2i4ubriN02+T9oJO6ZUjawJa2WdiXZH1
        wGycMdXEahlWOC6D3DwTQDmSsg81qdWTbNDSmhB7O8DnevLiFf686m58l+O9+jePYkZszN
        1gRNUQ7s9rPcETqSrQc79GG6akhgvo0=
DKIM-Signature: v=1; a=ed25519-sha256; c=relaxed/relaxed; d=suse.de;
        s=susede2_ed25519; t=1687332201;
        h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
         mime-version:mime-version:content-type:content-type:
         in-reply-to:in-reply-to:references:references;
        bh=1wbMhhbufJTOl/amXMPgYbaXbwGi5agLiy7Y+ZVX+hw=;
        b=ELaRZKEOTYFnJjMPEFBaQ462eQSp69DsMopToA0tXUvQZTM/yrpF4vlSEebQjGx3cKtB3i
        mGmEWHMY719NItAQ==
Received: from imap2.suse-dmz.suse.de (imap2.suse-dmz.suse.de [192.168.254.74])
        (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
         key-exchange X25519 server-signature ECDSA (P-521) server-digest SHA512)
        (No client certificate requested)
        by imap2.suse-dmz.suse.de (Postfix) with ESMTPS id 47DE6133E6;
        Wed, 21 Jun 2023 07:23:21 +0000 (UTC)
Received: from dovecot-director2.suse.de ([192.168.254.65])
        by imap2.suse-dmz.suse.de with ESMTPSA
        id 6JufEGmlkmRfNwAAMHmgww
        (envelope-from <tiwai@suse.de>); Wed, 21 Jun 2023 07:23:21 +0000
Date:   Wed, 21 Jun 2023 09:23:20 +0200
Message-ID: <87ilbhqnx3.wl-tiwai@suse.de>
From:   Takashi Iwai <tiwai@suse.de>
To:     Matthew Anderson <ruinairas1992@gmail.com>
Cc:     tiwai@suse.com, perex@perex.cz, luke@ljones.dev,
        sbinding@opensource.cirrus.com, linux-kernel@vger.kernel.org
Subject: Re: [PATCH] ALSA: hda/realtek: Add quirks for ROG ALLY CS35l41 audio
In-Reply-To: <20230621070610.70399-1-ruinairas1992@gmail.com>
References: <20230621070610.70399-1-ruinairas1992@gmail.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) Emacs/27.2 Mule/6.0
MIME-Version: 1.0 (generated by SEMI-EPG 1.14.7 - "Harue")
Content-Type: text/plain; charset=US-ASCII
X-Spam-Status: No, score=-4.4 required=5.0 tests=BAYES_00,DKIM_SIGNED,
        DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF,RCVD_IN_DNSWL_MED,SPF_HELO_NONE,
        SPF_PASS,T_SCC_BODY_TEXT_LINE,URIBL_BLOCKED autolearn=ham
        autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On Wed, 21 Jun 2023 09:06:10 +0200,
Matthew Anderson wrote:
> 
> This requires a patched ACPI table or a firmware from ASUS to work because
> the system does not come with the _DSD field for the CSC3551.

Thanks.  The patch looks almost OK, but some nitpicks.

> Bug report: https://bugzilla.kernel.org/show_bug.cgi?id=217550n

This should be with "Link:" tag.
  Link: report: https://bugzilla.kernel.org/show_bug.cgi?id=217550

> +	[ALC294_FIXUP_ASUS_ALLY_PINS] = {
> +		.type = HDA_FIXUP_PINS,
> +		.v.pins = (const struct hda_pintbl[]) {
> +			{ 0x19, 0x03a11050 },
> +			{ 0x1a, 0x03a11C30 },
> +			{ 0x21, 0x03211420 },

Please use the lower letters for hex numbers.

> +	[ALC294_FIXUP_ASUS_ALLY_VERBS] = {
> +		.type = HDA_FIXUP_VERBS,
> +		.v.verbs = (const struct hda_verb[]) {
> +			{ 0x20, AC_VERB_SET_COEF_INDEX, 0x45 },
> +			{ 0x20, AC_VERB_SET_PROC_COEF, 0x5089 },
> +			{ 0x20, AC_VERB_SET_COEF_INDEX, 0x46 },
> +			{ 0x20, AC_VERB_SET_PROC_COEF, 0x0004 },
> +			{ 0x20, AC_VERB_SET_COEF_INDEX, 0x47 },
> +			{ 0x20, AC_VERB_SET_PROC_COEF, 0xA47A },
> +			{ 0x20, AC_VERB_SET_COEF_INDEX, 0x49 },
> +			{ 0x20, AC_VERB_SET_PROC_COEF, 0x0049},
> +			{ 0x20, AC_VERB_SET_COEF_INDEX, 0x4A },
> +			{ 0x20, AC_VERB_SET_PROC_COEF, 0x201B },
> +			{ 0x20, AC_VERB_SET_COEF_INDEX, 0x6B },
> +			{ 0x20, AC_VERB_SET_PROC_COEF, 0x4278},

Ditto.

> @@ -9596,6 +9641,7 @@ static const struct snd_pci_quirk alc269_fixup_tbl[] = {
>  	SND_PCI_QUIRK(0x10ec, 0x1254, "Intel Reference board", ALC295_FIXUP_CHROME_BOOK),
>  	SND_PCI_QUIRK(0x10ec, 0x12cc, "Intel Reference board", ALC225_FIXUP_HEADSET_JACK),
>  	SND_PCI_QUIRK(0x10f7, 0x8338, "Panasonic CF-SZ6", ALC269_FIXUP_HEADSET_MODE),
> +	SND_PCI_QUIRK(0x1043, 0x17F3, "ROG Ally RC71L_RC71L", ALC294_FIXUP_ASUS_ALLY),
>  	SND_PCI_QUIRK(0x144d, 0xc109, "Samsung Ativ book 9 (NP900X3G)", ALC269_FIXUP_INV_DMIC),
>  	SND_PCI_QUIRK(0x144d, 0xc169, "Samsung Notebook 9 Pen (NP930SBE-K01US)", ALC298_FIXUP_SAMSUNG_AMP),
>  	SND_PCI_QUIRK(0x144d, 0xc176, "Samsung Notebook 9 Pro (NP930MBE-K04US)", ALC298_FIXUP_SAMSUNG_AMP),

The table is sorted in SSID number, so please put the entry at the
right place.

Last but not least, put "v3" prefix to the patch subject at the next
time, e.g.

  Subject: [PATCH v3] ALSA: hda/realtek: ....


thanks,

Takashi
