Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id 0DEAB702CFE
	for <lists+linux-kernel@lfdr.de>; Mon, 15 May 2023 14:45:08 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S241355AbjEOMpD (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Mon, 15 May 2023 08:45:03 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:35202 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S232265AbjEOMpA (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Mon, 15 May 2023 08:45:00 -0400
Received: from dfw.source.kernel.org (dfw.source.kernel.org [139.178.84.217])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 100B9126
        for <linux-kernel@vger.kernel.org>; Mon, 15 May 2023 05:44:59 -0700 (PDT)
Received: from smtp.kernel.org (relay.kernel.org [52.25.139.140])
        (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
        (No client certificate requested)
        by dfw.source.kernel.org (Postfix) with ESMTPS id A18DA61DC0
        for <linux-kernel@vger.kernel.org>; Mon, 15 May 2023 12:44:58 +0000 (UTC)
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 16650C433EF;
        Mon, 15 May 2023 12:44:58 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
        s=k20201202; t=1684154698;
        bh=DRHn9Re9jSlJG7DRJXR2pd2aFGBh2DugcRsZNzO9o1U=;
        h=Date:From:To:Cc:Subject:In-Reply-To:References:From;
        b=i5zKRopz/51Eaq3hJUF/zssHf3RVMzjE2WWoM4UizxtrGI8HvusLDvYhfAJEzro2I
         Nawlu5rFMq3VRkObshmq2LrpT0cQTRXZBb4uNJDXmdX/3U0o9Krrq/zIUf3mMP5cho
         pBmU37ouP3Zn2gYhaF6Ji8c0HXePP0NkGfhHQCc01Ps+R4N75/9oc7unqjt9USq9Ws
         F1xPP9ssN93yOLYqCfMCDM1loTh1Qlxl9hbcPAS4lHoJO/tHhst6sTaTA5DdZX8k6A
         D9SY0S5mS41+aPsOj61uflAZuiE/S2hZl2S9IZ7y89C2pwIJdfzsG95l3K875Rvgsb
         lc1yKQOCZecRw==
Received: from sofa.misterjones.org ([185.219.108.64] helo=goblin-girl.misterjones.org)
        by disco-boy.misterjones.org with esmtpsa  (TLS1.3) tls TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
        (Exim 4.95)
        (envelope-from <maz@kernel.org>)
        id 1pyXZP-00FEfe-Pg;
        Mon, 15 May 2023 13:44:55 +0100
Date:   Mon, 15 May 2023 13:44:55 +0100
Message-ID: <86jzx9n4qg.wl-maz@kernel.org>
From:   Marc Zyngier <maz@kernel.org>
To:     wangwudi <wangwudi@hisilicon.com>
Cc:     <linux-kernel@vger.kernel.org>,
        Thomas Gleixner <tglx@linutronix.de>
Subject: Re: [PATCH] irqchip: gic-v3: Collection table support muti pages
In-Reply-To: <1684152604-12621-1-git-send-email-wangwudi@hisilicon.com>
References: <1684152604-12621-1-git-send-email-wangwudi@hisilicon.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI-EPG/1.14.7 (Harue)
 FLIM-LB/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL-LB/10.8 EasyPG/1.0.0 Emacs/28.2
 (aarch64-unknown-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI-EPG 1.14.7 - "Harue")
Content-Type: text/plain; charset=US-ASCII
X-SA-Exim-Connect-IP: 185.219.108.64
X-SA-Exim-Rcpt-To: wangwudi@hisilicon.com, linux-kernel@vger.kernel.org, tglx@linutronix.de
X-SA-Exim-Mail-From: maz@kernel.org
X-SA-Exim-Scanned: No (on disco-boy.misterjones.org); SAEximRunCond expanded to false
X-Spam-Status: No, score=-7.1 required=5.0 tests=BAYES_00,DKIMWL_WL_HIGH,
        DKIM_SIGNED,DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF,RCVD_IN_DNSWL_HI,
        SPF_HELO_NONE,SPF_PASS,T_SCC_BODY_TEXT_LINE autolearn=ham
        autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On Mon, 15 May 2023 13:10:04 +0100,
wangwudi <wangwudi@hisilicon.com> wrote:
> 
> Only one page is allocated to the collection table.
> Recalculate the page number of collection table based on the number of
> CPUs.

Please document *why* we should even consider this. Do you know of any
existing implementation that is so large (or need so much memory for
its collection) that it would result in overflowing the collection
table?

Thanks,

	M.

-- 
Without deviation from the norm, progress is not possible.
