Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id 33CFB6206C0
	for <lists+linux-kernel@lfdr.de>; Tue,  8 Nov 2022 03:29:23 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S229534AbiKHC3U (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Mon, 7 Nov 2022 21:29:20 -0500
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:54640 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S233371AbiKHC3O (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Mon, 7 Nov 2022 21:29:14 -0500
Received: from mail-pg1-x533.google.com (mail-pg1-x533.google.com [IPv6:2607:f8b0:4864:20::533])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 9A4B812D09;
        Mon,  7 Nov 2022 18:29:10 -0800 (PST)
Received: by mail-pg1-x533.google.com with SMTP id r18so12174581pgr.12;
        Mon, 07 Nov 2022 18:29:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20210112;
        h=content-transfer-encoding:in-reply-to:from:references:cc:to
         :content-language:subject:user-agent:mime-version:date:message-id
         :from:to:cc:subject:date:message-id:reply-to;
        bh=h8+iDxfk1Lu5FMUmp5MLJsvPgLkzuNlpDVt+Jem4i3Q=;
        b=Jp6Olhjx38ZCDIpDvJa1kIKktRPm6c5xnQbrcwbxWay6fgRWNK0dTBXcUESv2Ou9wj
         mlhrbfIlEkDgdrQnx6HVbM9ZBII5gln6KLJd6+6tVcKZVN4z54kuoPubmB6j8IidDZTI
         W9weypMD0ZPjGj5KN6/B7vCwTppH7/3YkT+f9Cs3J1ls3GeBLeQIgD0x+VYsina/5Oee
         4izY6OU4D1ZVoDRiUCmNpjftQ/mVr81qX/Rd0N6uHQrAprw8F1K0QqVV4yNycxrn/49E
         UVzyiHlNcQIlokU0fkuQWaCpkWMkaD3VMznkY0jZ8QtZUvfzgUQHR8UMGQYdehANEXm6
         oOag==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20210112;
        h=content-transfer-encoding:in-reply-to:from:references:cc:to
         :content-language:subject:user-agent:mime-version:date:message-id
         :x-gm-message-state:from:to:cc:subject:date:message-id:reply-to;
        bh=h8+iDxfk1Lu5FMUmp5MLJsvPgLkzuNlpDVt+Jem4i3Q=;
        b=td2ujajh3hsZlV5QLdCDZrXfOGB24YUH+8hJoAQPfjKul7REklEzmeYxO7eRa2Sgnm
         n9OqTTIzl1L8JzM8aIK/wl30BI3yOa8W0bLoQ51QKJpTAqqIhS3qw7bp9hhvIYywXSzf
         /AKKuIPdaHl5g0yYT3o/gRxUSF0Z4aYvDMqAkNUY1WnD4NJxr232k2JgMOfrx1l/f1mQ
         VmmEd+h6hXLfeunJ+Q9KSjRE4/mmKqDVBB62oUx0ROJibZZSb23J73HX4EdhgjZGMaUE
         Zbn24HTK+0fcwvdZfS0IatTFTqTtcWBOEQAj8zZq3f6DNZKm/4dl60OOUueep+BKQEbw
         JguQ==
X-Gm-Message-State: ACrzQf3uJAvnmj2C7DJYzdf8olZTuHjEiZyVclyUr/TZ4ywMo953p9C9
        r6JoXR4MsOngxhriEdZ1oRY=
X-Google-Smtp-Source: AMsMyM4PHS1dbFAuhR5oCM2R3s+kkIX9oz32AKULQ5Nbtx0LyF1xDDPqA9EGoLuJeO4fX+1jOUKMfg==
X-Received: by 2002:a05:6a00:1823:b0:56b:f348:998f with SMTP id y35-20020a056a00182300b0056bf348998fmr53571623pfa.28.1667874550131;
        Mon, 07 Nov 2022 18:29:10 -0800 (PST)
Received: from [192.168.43.80] (subs02-180-214-232-93.three.co.id. [180.214.232.93])
        by smtp.gmail.com with ESMTPSA id k27-20020aa7999b000000b0056b8af5d46esm5144170pfh.168.2022.11.07.18.29.06
        (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
        Mon, 07 Nov 2022 18:29:09 -0800 (PST)
Message-ID: <206a95eb-5430-f9bf-15ad-4e644393255e@gmail.com>
Date:   Tue, 8 Nov 2022 09:29:01 +0700
MIME-Version: 1.0
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:102.0) Gecko/20100101
 Thunderbird/102.4.1
Subject: Re: [PATCH] Documentation: RCU: use code blocks with autogenerated
 line (was: Re: linux-next: build warning after merge of the rcu tree)
Content-Language: en-US
To:     Akira Yokosawa <akiyks@gmail.com>
Cc:     corbet@lwn.net, frederic@kernel.org, jiangshanlai@gmail.com,
        joel@joelfernandes.org, josh@joshtriplett.org,
        linux-doc@vger.kernel.org, linux-kernel@vger.kernel.org,
        linux-next@vger.kernel.org, mathieu.desnoyers@efficios.com,
        paulmck@kernel.org, quic_neeraju@quicinc.com, rcu@vger.kernel.org,
        rostedt@goodmis.org, sfr@canb.auug.org.au
References: <Y2jWAR1QESe3OrhH@debian.me>
 <af3ec8bf-310e-69ea-9d32-f7aec740b306@gmail.com>
From:   Bagas Sanjaya <bagasdotme@gmail.com>
In-Reply-To: <af3ec8bf-310e-69ea-9d32-f7aec740b306@gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Spam-Status: No, score=1.9 required=5.0 tests=BAYES_00,DKIM_SIGNED,
        DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF,FREEMAIL_FROM,NICE_REPLY_A,
        RCVD_IN_DNSWL_NONE,RCVD_IN_SORBS_WEB,SORTED_RECIPS,SPF_HELO_NONE,
        SPF_PASS autolearn=no autolearn_force=no version=3.4.6
X-Spam-Level: *
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On 11/7/22 18:48, Akira Yokosawa wrote:
> That might be true if all you care about were the generated documents,
> but we need to pay attention to readers of .rst files as plain-text.
> 
> There are a bunch of references to line numbers in RCU documents.
> If explicit line numbers are removed from snippets, such readers need
> to count the lines by themselves, which doesn't sound reasonable to me.
> 

I think only rcubarrier.rst have explicit references to line numbers.

Also, besides manual line counting, readers seeing rst sources can deduce
where actually the lines are from explanation of the snippet. Of course
they can make htmldocs and seeing the output if they want.

> If you can put labels to referenced lines within code snippets, auto
> generation of line numbers might work, but as far as I know, Sphinx
> doesn't provide such a nice feature.
> 

There's also :emphasize-lines: option to highlight selected line numbers.

Thanks.

-- 
An old man doll... just what I always wanted! - Clara

